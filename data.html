<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="The minimal & fast library for functional user interfaces.">
		<meta name="author" content="Kabir Shah">

		<title>Data | Moon</title>

		<link rel="shortcut icon" href="/img/logo.png"/>

		<link href="https://fonts.googleapis.com/css?family=Inconsolata&display=swap" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="/css/lib/grain.css" />
		<link rel="stylesheet" type="text/css" href="/css/styles.css" />
		<link rel="stylesheet" type="text/css" href="/css/post.css" />

		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-70792533-14', 'auto');
			ga('send', 'pageview');
		</script>
	</head>

	<body class="a-x-c a-0-x-s a-0-y-l-c a-1-x-e a-1-y-l-c m-x-5 m-y-5">
		<h2><a href="/" class="c-f-black b-n">Moon</a></h2>

		<div class="m-x-3">
			<a href="/guide" class="c-f-black b-n">Guide</a>
			<a href="/play" class="c-f-black b-n">Playground</a>
			<a href="/examples" class="c-f-black b-n">Examples</a>
			<a href="https://github.com/kbrsh/moon" class="c-f-black b-n">GitHub</a>
		</div>

		<div class="a-b"></div>

		<div class="s-x-20 p-y-3">
			<h5 class="s-x-20">DOCUMENTATION</h5>
			
				
					<p class="s-x-20"><a href="/about" class="c-f-black b-n">About</a></p>
				
			
				
					<p class="s-x-20"><a href="/installation" class="c-f-black b-n">Installation</a></p>
				
			
				
					<p class="s-x-20"><a href="/guide" class="c-f-black b-n">Guide</a></p>
				
			
				
					<p class="s-x-20"><a href="/data" class="c-f-purple-dark b-n">Data</a></p>
				
			
				
					<p class="s-x-20"><a href="/views" class="c-f-black b-n">Views</a></p>
				
			
				
					<p class="s-x-20"><a href="/examples" class="c-f-black b-n">Examples</a></p>
				
			
		</div>

		<div class="s-x-26 m-y-3">
			<h1>Data</h1>
			<p class="s-x-26">The data driver is a driver that handles persistent state. It stores data in memory and provides it as driver input. For output, it accepts new data that it stores and provides on any subsequent runs.</p><p class="s-x-26">Stored data can have any type, but is usually an object with different properties for storing different parts of application state.</p><h2 id="configuration" class="s-x-26">Configuration</h2><p class="s-x-26">The <code class="s-b-2 p-x-2 p-y-2">Moon.data.driver</code> is a function that takes initial data and returns a driver.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token comment">// Creates a data driver with the initial data as an object.</span>
Moon<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    user<span class="token punctuation">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="input" class="s-x-26">Input</h2><p class="s-x-26">The data driver provides the current stored data as input.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code>Moon<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    data<span class="token punctuation">:</span> Moon<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Moon<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 1</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="s-x-26"><a href="/play#Moon.use(%7B%0A%09data%3A%20Moon.data.driver(1)%0A%7D)%3B%0A%0AMoon.run((%7B%20data%20%7D)%20%3D>%20%7B%0A%09console.log(data)%3B%20%2F%2F%20%3D>%201%0A%09return%20%7B%7D%3B%0A%7D)%3B">Try it!</a></p><h2 id="output" class="s-x-26">Output</h2><p class="s-x-26">The data driver accepts new data as output and stores it. This is usually a completely new state to keep immutability and prevent bugs. However, the data can be mutated and returned again since the previous data is replaced with the new one.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code>Moon<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    data<span class="token punctuation">:</span> Moon<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        user<span class="token punctuation">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Moon<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        count<span class="token punctuation">:</span> data<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
        user<span class="token punctuation">:</span> <span class="token string">"John Doe"</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
		</div>
	</body>
</html>
