<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="The minimal & fast library for functional user interfaces.">
		<meta name="author" content="Kabir Shah">

		<title>Views | Moon</title>

		<link rel="shortcut icon" href="/img/logo.png"/>

		<link href="https://fonts.googleapis.com/css?family=Inconsolata&display=swap" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="/css/lib/grain.css" />
		<link rel="stylesheet" type="text/css" href="/css/styles.css" />
		<link rel="stylesheet" type="text/css" href="/css/post.css" />

		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-70792533-14', 'auto');
			ga('send', 'pageview');
		</script>
	</head>

	<body class="a-x-c a-0-x-s a-0-y-l-c a-1-x-e a-1-y-l-c m-x-5 m-y-5">
		<h2><a href="/" class="c-f-black b-n">Moon</a></h2>

		<div class="m-x-3">
			<a href="/guide" class="c-f-black b-n">Guide</a>
			<a href="/play" class="c-f-black b-n">Playground</a>
			<a href="/examples" class="c-f-black b-n">Examples</a>
			<a href="https://github.com/kbrsh/moon" class="c-f-black b-n">GitHub</a>
		</div>

		<div class="a-b"></div>

		<div class="s-x-20 p-y-3">
			<h5 class="s-x-20">DOCUMENTATION</h5>
			
				
					<p class="s-x-20"><a href="/about" class="c-f-black b-n">About</a></p>
				
			
				
					<p class="s-x-20"><a href="/installation" class="c-f-black b-n">Installation</a></p>
				
			
				
					<p class="s-x-20"><a href="/guide" class="c-f-black b-n">Guide</a></p>
				
			
				
					<p class="s-x-20"><a href="/data" class="c-f-black b-n">Data</a></p>
				
			
				
					<p class="s-x-20"><a href="/views" class="c-f-purple-dark b-n">Views</a></p>
				
			
				
					<p class="s-x-20"><a href="/examples" class="c-f-black b-n">Examples</a></p>
				
			
		</div>

		<div class="s-x-26 m-y-3">
			<h1>Views</h1>
			<p class="s-x-26">The view driver is a driver that handles visual output using the DOM in a browser. It uses a virtual DOM under the hood to ensure fast updates, and it works by replacing the old view with a new one.</p><h2 id="configuration" class="s-x-26">Configuration</h2><p class="s-x-26">The <code class="s-b-2 p-x-2 p-y-2">Moon.data.view</code> is a function that takes a root element where views will be mounted. This can be a query selector or a direct reference to a DOM element. The view driver will replace this element with the view structure you provide.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token comment">// Creates a view driver that mounts on an existing element using a query</span>
<span class="token comment">// selector.</span>
Moon<span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token string">"#root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Creates a view driver that mounts on an existing element using a direct DOM</span>
<span class="token comment">// reference.</span>
Moon<span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="input" class="s-x-26">Input</h2><p class="s-x-26">The view driver provides event information as input. This is useful for event handlers which return their own views, as they can have access to the DOM event information.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> view <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// MouseEvent</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Moon<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    view<span class="token punctuation">:</span> Moon<span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token string">"#root"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Moon<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        view<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>Click Me<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="s-x-26"><a href="/play#function%20handleClick(%7B%20view%20%7D)%20%7B%0A%09console.log(view)%3B%20%2F%2F%20MouseEvent%0A%09return%20%7B%7D%3B%0A%7D%0A%0AMoon.use(%7B%0A%09view%3A%20Moon.view.driver(%22%23root%22)%0A%7D)%3B%0A%0AMoon.run(()%20%3D%3E%20%7B%0A%09return%20%7B%0A%09%09view%3A%20(%3Cbutton%20%40click%3D%7BhandleClick%7D%3EClick%20Me!%3C%2Fbutton%3E)%0A%09%7D%3B%0A%7D)%3B">Try it!</a></p><h2 id="output" class="s-x-26">Output</h2><p class="s-x-26">The view driver accepts a new view as output and renders it to the DOM using a performant virtual DOM diffing algorithm. This should be a completely new virtual DOM. This keeps immutability and prevents bugs, as every view completely replaces the old one.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code>Moon<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    view<span class="token punctuation">:</span> Moon<span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token string">"#root"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Moon<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        view<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello Moon<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="s-x-26"><a href="/play#Moon.use(%7B%0A%09view%3A%20Moon.view.driver(%22%23root%22)%0A%7D)%3B%0A%0AMoon.run(()%20%3D%3E%20%7B%0A%09return%20%7B%0A%09%09view%3A%20(%3Cp%3EHello%20Moon!%3C%2Fp%3E)%0A%09%7D%3B%0A%7D)%3B">Try it!</a></p><p class="s-x-26">Moon views are often defined using the <em>Moon View Language</em>. The Moon view language is a template language based on HTML and adds support for data interpolation, events, and components.</p><h3 id="javascript-syntax" class="s-x-26">JavaScript Syntax</h3><p class="s-x-26">The Moon view language is a superset of JavaScript, and it allows a new type of expression. This expression returns view nodes, and must always be enclosed in parentheses.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token comment">// Valid</span>
<span class="token keyword">const</span> paragraph <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello Moon<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Invalid</span>
<span class="token keyword">const</span> paragraph <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello Moon<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">;</span></code></pre><h3 id="tags" class="s-x-26">Tags</h3><p class="s-x-26">Tags return new view nodes, and they follow normal HTML tag names. They can also have data, which correspond to properties (not attributes) on DOM elements.</p><p class="s-x-26">Property names can be empty. Property values can also be empty, in which case they default to <code class="s-b-2 p-x-2 p-y-2">true</code>. Otherwise, the values can be strings or interpolated JavaScript expressions surrounded by curly braces. They are special syntax for function calls, where the content between tags is another property called <code class="s-b-2 p-x-2 p-y-2">children</code>. This can contain other tags and text.</p><p class="s-x-26">Additionally, Moon has special properties for <code class="s-b-2 p-x-2 p-y-2">style</code> and <code class="s-b-2 p-x-2 p-y-2">dataset</code>. Also, it adds <code class="s-b-2 p-x-2 p-y-2">ariaset</code> instead of supporting <code class="s-b-2 p-x-2 p-y-2">aria-*</code> attributes.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token keyword">const</span> paragraph <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div
        <span class="token operator">=</span><span class="token string">"empty"</span>
        id<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">calculateId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"blue"</span>
        empty
        style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">"blue"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
        dataset<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">"bar"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
        ariaset<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> hidden<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello Moon<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="s-x-26"><a href="/play#const%20calculateId%20%3D%20()%20%3D%3E%20Math.random()%3B%0A%0Aconst%20paragraph%20%3D%20(%0A%09%3Cdiv%0A%09%09%3D%22empty%22%0A%09%09id%3D%7BcalculateId()%7D%0A%09%09class%3D%22blue%22%0A%09%09empty%0A%09%09style%3D%7B%7B%20color%3A%20%22blue%22%20%7D%7D%0A%09%09dataset%3D%7B%7B%20foo%3A%20%22bar%22%20%7D%7D%0A%09%09ariaset%3D%7B%7B%20hidden%3A%20true%20%7D%7D%0A%09%3E%0A%09%09%3Cp%3EHello%20Moon!%3C%2Fp%3E%0A%09%3C%2Fdiv%3E%0A)%3B%0A%0AMoon.use(%7B%0A%09view%3A%20Moon.view.driver(%22%23root%22)%0A%7D)%3B%0A%0AMoon.run(()%20%3D%3E%20%7B%0A%09return%20%7B%0A%09%09view%3A%20paragraph%0A%09%7D%3B%0A%7D)%3B">Try it!</a></p><h3 id="text" class="s-x-26">Text</h3><p class="s-x-26">Text is plaintext with support for basic HTML escape codes, which include <code class="s-b-2 p-x-2 p-y-2">&amp;amp;</code>, <code class="s-b-2 p-x-2 p-y-2">&amp;gt;</code>, <code class="s-b-2 p-x-2 p-y-2">&amp;lt;</code>, <code class="s-b-2 p-x-2 p-y-2">&amp;nbsp;</code>, and <code class="s-b-2 p-x-2 p-y-2">&amp;quot;</code>. The rest can be encoded as anything that is valid in a JavaScript string.</p><p class="s-x-26">On top of that, it supports JavaScript expressions interpolated between curly braces.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token keyword">const</span> paragraph <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">!</span> The number <span class="token keyword">of</span> moons is<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token function">count</span><span class="token punctuation">(</span>planets<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">21.625</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="s-x-26"><a href="/play#const%20count%20%3D%20arr%20%3D%3E%20arr.length%3B%0A%0Aconst%20name%20%3D%20%22Moon%22%3B%0Aconst%20planets%20%3D%20%5B%22Mercury%22%2C%20%22Venus%22%2C%20%22Earth%22%2C%20%22Mars%22%2C%20%22Jupiter%22%2C%20%22Saturn%22%2C%20%22Uranus%22%2C%20%22Neptune%22%5D%3B%0A%0Aconst%20paragraph%20%3D%20(%0A%09%3Cp%3EHello%20%7Bname%7D!%20The%20number%20of%20moons%20is%3A%20%7Bcount(planets)%20*%2021.625%7D.%3C%2Fp%3E%0A)%3B%0A%0AMoon.use(%7B%0A%09view%3A%20Moon.view.driver(%22%23root%22)%0A%7D)%3B%0A%0AMoon.run(()%20%3D%3E%20%7B%0A%09return%20%7B%0A%09%09view%3A%20paragraph%0A%09%7D%3B%0A%7D)%3B">Try it!</a></p><h3 id="events" class="s-x-26">Events</h3><p class="s-x-26">Browser events such as <code class="s-b-2 p-x-2 p-y-2">click</code> or <code class="s-b-2 p-x-2 p-y-2">input</code> can be handled by creating an attribute prepended with <code class="s-b-2 p-x-2 p-y-2">@</code> with one function as a value. This function will be ran like an application, with the DOM event available from the input from the <code class="s-b-2 p-x-2 p-y-2">view</code> driver.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> view <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// MouseEvent</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        view<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>New view<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Moon<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    view<span class="token punctuation">:</span> Moon<span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token string">"#root"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Moon<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        view<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>Click Me<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="s-x-26"><a href="/play#function%20handleClick(%7B%20view%20%7D)%20%7B%0A%09console.log(view)%3B%20%2F%2F%20MouseEvent%0A%09return%20%7B%0A%09%09view%3A%20(%3Cp%3ENew%20view!%3C%2Fp%3E)%0A%09%7D%3B%0A%7D%0A%0AMoon.use(%7B%0A%09view%3A%20Moon.view.driver(%22%23root%22)%0A%7D)%3B%0A%0AMoon.run(()%20%3D%3E%20%7B%0A%09return%20%7B%0A%09%09view%3A%20(%3Cbutton%20%40click%3D%7BhandleClick%7D%3EClick%20Me!%3C%2Fbutton%3E)%0A%09%7D%3B%0A%7D)%3B">Try it!</a></p><h3 id="components" class="s-x-26">Components</h3><p class="s-x-26">Components are functions of data objects that return view nodes. They are useful for making reusable parts of your view that can be configured through data. Since the data object is also passed children, components can also render children inside of their view node result.</p><p class="s-x-26">Components should always start with an uppercase letter and return a view object so that Moon can detect which elements are components.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token keyword">const</span> <span class="token function-variable function">Component</span> <span class="token operator">=</span> <span class="token parameter">data</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token operator">=</span><span class="token string">"container"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token operator">=</span><span class="token string">"content"</span></span> <span class="token attr-name">children</span><span class="token attr-value"><span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>children<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Component</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token operator">=</span><span class="token string">"my-component"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello Moon<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Component</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
    Results in:

    &lt;div class="container" id="my-component">
        &lt;div class="content">
            &lt;p>Hello Moon!&lt;/p>
        &lt;/div>
    &lt;/div>
*/</span></code></pre><p class="s-x-26"><a href="/play#const%20Component%20%3D%20data%20%3D%3E%20(%0A%09%3Cdiv%20class%3D%22container%22%20id%3D%7Bdata.id%7D%3E%0A%09%09%3Cdiv%20class%3D%22content%22%20children%3D%7Bdata.children%7D%3E%3C%2Fdiv%3E%0A%09%3C%2Fdiv%3E%0A)%3B%0A%0Aconst%20element%20%3D%20(%0A%09%3CComponent%20id%3D%22my-component%22%3E%0A%09%09%3Cp%3EHello%20Moon!%3C%2Fp%3E%0A%09%3C%2FComponent%3E%0A)%3B%0A%0AMoon.use(%7B%0A%09view%3A%20Moon.view.driver(%22%23root%22)%0A%7D)%3B%0A%0AMoon.run(()%20%3D%3E%20%7B%0A%09return%20%7B%0A%09%09view%3A%20element%0A%09%7D%3B%0A%7D)%3B">Try it!</a></p><h3 id="conditionals" class="s-x-26">Conditionals</h3><p class="s-x-26">Elements can be rendered based on certain conditions using the <code class="s-b-2 p-x-2 p-y-2">if</code>, <code class="s-b-2 p-x-2 p-y-2">else-if</code>, and <code class="s-b-2 p-x-2 p-y-2">else</code> components. These components only render their first child if the condition matches. <code class="s-b-2 p-x-2 p-y-2">else-if</code> and <code class="s-b-2 p-x-2 p-y-2">else</code> are not required, and <code class="s-b-2 p-x-2 p-y-2">else</code> defaults to rendering an empty text element.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token keyword">const</span> conditional <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token operator">&lt;</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token punctuation">{</span>foo <span class="token operator">===</span> <span class="token string">"bar"</span><span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Foo is bar<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>
        <span class="token operator">&lt;</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token punctuation">{</span>condition<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Condition is <span class="token boolean">true</span><span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>else-if</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>else</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Condition is <span class="token boolean">false</span><span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>else</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="s-x-26"><a href="/play#const%20foo%20%3D%20%22foo%22%3B%0Aconst%20condition%20%3D%20true%3B%0A%0Aconst%20conditional%20%3D%20(%0A%09%3Cdiv%3E%0A%09%09%3Cif%3D%7Bfoo%20%3D%3D%3D%20%22bar%22%7D%3E%0A%09%09%09%3Cp%3EFoo%20is%20bar!%3C%2Fp%3E%0A%09%09%3C%2Fif%3E%0A%09%09%3Celse-if%3D%7Bcondition%7D%3E%0A%09%09%09%3Cp%3ECondition%20is%20true!%3C%2Fp%3E%0A%09%09%3C%2Felse-if%3E%0A%09%09%3Celse%3E%0A%09%09%09%3Cp%3ECondition%20is%20false!%3C%2Fp%3E%0A%09%09%3C%2Felse%3E%0A%09%3C%2Fdiv%3E%0A)%3B%0A%0AMoon.use(%7B%0A%09view%3A%20Moon.view.driver(%22%23root%22)%0A%7D)%3B%0A%0AMoon.run(()%20%3D%3E%20%7B%0A%09return%20%7B%0A%09%09view%3A%20conditional%0A%09%7D%3B%0A%7D)%3B">Try it!</a></p><h3 id="loops" class="s-x-26">Loops</h3><p class="s-x-26">Elements can be rendered multiple times for every element in an array using the <code class="s-b-2 p-x-2 p-y-2">for</code> component. The empty property accepts two local variables that will be available to every child element. The <code class="s-b-2 p-x-2 p-y-2">of</code> property will accept an array to iterate over, with the first local variable being the element of the array and the second being the index. The <code class="s-b-2 p-x-2 p-y-2">in</code> property will accept an object to iterate over, with the first local being the key of the object, and the second being the value.</p><p class="s-x-26">By default, <code class="s-b-2 p-x-2 p-y-2">for</code> will render everything inside a <code class="s-b-2 p-x-2 p-y-2">&lt;span&gt;</code> element. To customize this, you can use the <code class="s-b-2 p-x-2 p-y-2">name</code> property to set the tag name. Also, you can use the <code class="s-b-2 p-x-2 p-y-2">data</code> property to set the DOM property data.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token comment">// Array</span>
<span class="token keyword">const</span> loop <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span> <span class="token keyword">of</span><span class="token operator">=</span><span class="token punctuation">{</span>array<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>for</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Array with index local</span>
<span class="token keyword">const</span> loop <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">,</span> index<span class="token punctuation">}</span> <span class="token keyword">of</span><span class="token operator">=</span><span class="token punctuation">{</span>array<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>for</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Object</span>
<span class="token keyword">const</span> loop <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span> <span class="token keyword">in</span><span class="token operator">=</span><span class="token punctuation">{</span>object<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>key<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>for</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Object with value local</span>
<span class="token keyword">const</span> loop <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">,</span> value<span class="token punctuation">}</span> <span class="token keyword">of</span><span class="token operator">=</span><span class="token punctuation">{</span>object<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>key<span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>for</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Name and data options</span>
<span class="token keyword">const</span> loop <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span> <span class="token keyword">of</span><span class="token operator">=</span><span class="token punctuation">{</span>array<span class="token punctuation">}</span> name<span class="token operator">=</span><span class="token string">"ul"</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">"blue"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>for</span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="s-x-26"><a href="/play#const%20array%20%3D%20%5B%22Mercury%22%2C%20%22Venus%22%2C%20%22Earth%22%2C%20%22Mars%22%2C%20%22Jupiter%22%2C%20%22Saturn%22%2C%20%22Uranus%22%2C%20%22Neptune%22%5D%3B%0A%0A%2F%2F%20Name%20and%20data%20options%0Aconst%20loop%20%3D%20(%0A%09%3Cfor%3D%7Bvalue%7D%20of%3D%7Barray%7D%20name%3D%22ul%22%20data%3D%7B%7B%20class%3A%20%22blue%22%20%7D%7D%3E%0A%09%09%3Cli%3E%7Bvalue%7D%3C%2Fli%3E%0A%09%3C%2Ffor%3E%0A)%3B%0A%0AMoon.use(%7B%0A%09view%3A%20Moon.view.driver(%22%23root%22)%0A%7D)%3B%0A%0AMoon.run(()%20%3D%3E%20%7B%0A%09return%20%7B%0A%09%09view%3A%20loop%0A%09%7D%3B%0A%7D)%3B">Try it!</a></p><h3 id="under-the-hood" class="s-x-26">Under the Hood</h3><p class="s-x-26">View nodes are created with <code class="s-b-2 p-x-2 p-y-2">Moon.view.m</code>. This is a function that takes a type, data, and children. Components are called with data, and one of the properties, <code class="s-b-2 p-x-2 p-y-2">children</code>, contains child nodes.</p><pre class="s-x-26 s-b-2 p-x-4 p-y-4"><code><span class="token comment">// Moon view language</span>
<span class="token keyword">const</span> paragraph <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token operator">=</span><span class="token string">"blue"</span></span><span class="token punctuation">></span></span>Hello Moon<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Component</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token operator">=</span><span class="token string">"blue"</span></span><span class="token punctuation">></span></span>Hello Moon<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Component</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Function calls</span>
<span class="token keyword">const</span> paragraph <span class="token operator">=</span> Moon<span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">"blue"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    Moon<span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">""</span><span class="token punctuation">:</span> <span class="token string">"Hello Moon!"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    Moon<span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">""</span><span class="token punctuation">:</span> <span class="token string">"Hello Moon!"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
		</div>
	</body>
</html>
