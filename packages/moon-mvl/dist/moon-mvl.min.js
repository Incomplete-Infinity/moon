/**
 * Moon MVL v1.0.0-beta.2
 * Copyright 2016-2019 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
var Moon=require("moon"),slash=require("./slash"),_require=require("./css"),addClass=_require.addClass,scopeCSS=_require.scopeCSS,scriptRE=/((?:.|\n)*?)<script>((?:.|\n)*)<\/script>((?:.|\n)*)/,styleRE=/((?:.|\n)*?)<style>((?:.|\n)*)<\/style>((?:.|\n)*)/;module.exports=function(t,o,n){var s=null,r=null;o=(o=o.replace(scriptRE,function(t,o,n,e){return s=n,o+e})).replace(styleRE,function(t,o,n,e){return r=n,o+e});var e,l=Moon.parse(o),i=null;if(null!==r){var m="moon-"+slash(t);addClass(l,m),i=scopeCSS(m,r)}return e='import Moon from "moon";'+(e=null===s?"const _moonOptions={};":s.replace("export default","const _moonOptions="))+'_moonOptions.name="'+t+'";_moonOptions.view=function(m,data){'+Moon.generate(l)+"};Moon(_moonOptions);",n&&(e='\n\t\t\timport { registerCSS } from "moon-mvl/lib/hot";\n\n\t\t\tconst _moonRemoveCSS = registerCSS(`'+i+"`);\n\n\t\t\tif (module.hot) {\n\t\t\t\tmodule.hot.dispose(() => {\n\t\t\t\t\tMoon.set({});\n\n\t\t\t\t\t_moonRemoveCSS();\n\t\t\t\t});\n\t\t\t}\n\t\t",i=null),{js:e,css:i}};