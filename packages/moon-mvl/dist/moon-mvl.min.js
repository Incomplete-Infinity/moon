/**
 * Moon MVL v1.0.0-beta.2
 * Copyright 2016-2019 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
var Moon=require("moon"),slash=require("./slash"),_require=require("./css"),addClass=_require.addClass,scopeCSS=_require.scopeCSS,scriptRE=/((?:.|\n)*?)<script>((?:.|\n)*)<\/script>((?:.|\n)*)/,styleRE=/((?:.|\n)*?)<style>((?:.|\n)*)<\/style>((?:.|\n)*)/;module.exports=function(t,n,o){var r=null,s=null;n=(n=n.replace(scriptRE,function(t,n,o,e){return r=o,n+e})).replace(styleRE,function(t,n,o,e){return s=o,n+e});var e,i=Moon.parse(n),l=null;if(null!==s){var c="moon-".concat(t,"-").concat(slash(t));i=addClass(i,c),l=scopeCSS(c,s)}return e=null===r?"const _moonOptions={};":r.replace("export default","const _moonOptions="),e='import Moon from "moon";'.concat(e,"_moonOptions.view=function(m,instance,locals){").concat(Moon.generate(i,null),'};export default Moon.extend("').concat(t,'",_moonOptions);'),o&&(e='\n\t\t\timport { registerJS, registerCSS } from "moon-mvl/lib/hot";\n\t\t\tconst _moonRemoveJS = [];\n\t\t\tconst _moonRemoveCSS = registerCSS(`'.concat(l,"`);\n\t\t\t").concat(e.replace("export default","\n\t\t\t\t\tconst _moonOnCreate = _moonOptions.onCreate;\n\t\t\t\t\t_moonOptions.onCreate = function() {\n\t\t\t\t\t\t_moonRemoveJS.push(registerJS(this));\n\n\t\t\t\t\t\tif (_moonOnCreate !== undefined) {\n\t\t\t\t\t\t\t_moonOnCreate(this, []);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t$&\n\t\t\t\t"),"\n\t\t\tif (module.hot) {\n\t\t\t\tmodule.hot.dispose(() => {\n\t\t\t\t\tfor (let i = 0; i < _moonRemoveJS.length; i++) {\n\t\t\t\t\t\t_moonRemoveJS[i]();\n\t\t\t\t\t}\n\n\t\t\t\t\t_moonRemoveCSS();\n\t\t\t\t});\n\t\t\t}\n\t\t"),l=null),{js:e,css:l}};