/**
 * Moon CLI v1.0.0-beta.2
 * Copyright 2016-2019 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
!function(){"use strict";var c=require("fs"),s=require("path"),t=require("https"),e=require("child_process").exec,l=process.argv[2],n={method:"GET",host:"api.github.com",path:"/repos/"+(process.argv[3]||"kbrsh/moon-template")+"/tarball/master",headers:{"User-Agent":"Node.js"}},u=/{# MoonName #}/g,d=function(e,t){console.log("\x1b[34m"+e+"\x1b[0m "+t)},o=function(e){var t=s.join(__dirname,"moon-template.tar.gz"),n=c.createWriteStream(t);e.on("data",function(e){n.write(e)}),e.on("end",function(){n.end(),d("download","template"),r(t)})},r=function(t){var n=s.join(process.cwd(),l);e("mkdir "+n,function(e){if(e)throw e}),e("tar -xzf "+t+" -C "+n+" --strip=1",function(e){if(e)throw e;d("install","template"),i(t,n)})},i=function(e,t){c.unlink(e,function(e){if(e)throw e;d("clean","template"),a(t,t),d("success",'Generated project "'+l+'"'),console.log("To start, run:\n\tcd "+l+"\n\tnpm install\n\tnpm run dev")})},a=function e(t,n){for(var o=c.readdirSync(t),r=0;r<o.length;r++){var i=o[r],a=s.join(t,i);c.statSync(a).isDirectory()?e(a,n):(c.writeFileSync(a,c.readFileSync(a).toString().replace(u,l)),d("create",s.relative(n,a)))}};t.get(n,function(e){300<e.statusCode&&e.statusCode<400&&void 0!==e.headers.location?t.get(e.headers.location,function(e){o(e)}):o(e)})}();