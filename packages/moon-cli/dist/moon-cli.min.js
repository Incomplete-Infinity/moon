/**
 * Moon CLI v1.0.0-beta.2
 * Copyright 2016-2019 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
!function(){"use strict";var i=require("fs"),s=require("path"),e=require("https"),t=require("child_process").exec,l=process.argv[2],n=process.argv[3]||"kbrsh/moon-template",o={method:"GET",host:"api.github.com",path:"/repos/".concat(n,"/tarball/master"),headers:{"User-Agent":"Node.js"}},u=/{# MoonName #}/g,d=function(t,e){console.log("[34m".concat(t,"[0m ").concat(e))},r=function(t){var e=s.join(__dirname,"moon-template.tar.gz"),n=i.createWriteStream(e);t.on("data",function(t){n.write(t)}),t.on("end",function(){n.end(),d("download","template"),c(e)})},c=function(e){var n=s.join(process.cwd(),l);t("mkdir ".concat(n),function(t){if(t)throw t}),t("tar -xzf ".concat(e," -C ").concat(n," --strip=1"),function(t){if(t)throw t;d("install","template"),a(e,n)})},a=function(t,e){i.unlink(t,function(t){if(t)throw t;d("clean","template"),f(e,e),d("success",'Generated project "'.concat(l,'"')),console.log("To start, run:\n\tcd ".concat(l,"\n\tnpm install\n\tnpm run dev"))})},f=function t(e,n){for(var o=i.readdirSync(e),r=0;r<o.length;r++){var c=o[r],a=s.join(e,c);i.statSync(a).isDirectory()?t(a,n):(i.writeFileSync(a,i.readFileSync(a).toString().replace(u,l)),d("create",s.relative(n,a)))}};e.get(o,function(t){300<t.statusCode&&t.statusCode<400&&void 0!==t.headers.location?e.get(t.headers.location,function(t){r(t)}):r(t)})}();