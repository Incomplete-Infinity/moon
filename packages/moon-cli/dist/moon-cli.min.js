/**
 * Moon CLI v1.0.0-beta.2
 * Copyright 2016-2019 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
!function(){"use strict";var c=require("fs"),s=require("path"),t=require("https"),r=require("child_process").exec,l=process.argv[2],e={method:"GET",host:"api.github.com",path:"/repos/"+(process.argv[3]||"kbrsh/moon-template")+"/tarball/master",headers:{"User-Agent":"Node.js"}},u=/{# MoonName #}/g;function d(e,t){console.log("\x1b[34m"+e+"\x1b[0m "+t)}function n(e){var t=s.join(__dirname,"moon-template.tar.gz"),n=c.createWriteStream(t);e.on("data",function(e){n.write(e)}),e.on("end",function(){n.end(),d("download","template"),function(t){var n=s.join(process.cwd(),l);r("mkdir "+n,function(e){if(e)throw e;r("tar -xzf "+t+" -C "+n+" --strip=1",function(e){if(e)throw e;d("install","template"),function(e,t){c.unlink(e,function(e){if(e)throw e;d("clean","template"),function e(t,n){var r=c.readdirSync(t);for(var o=0;o<r.length;o++){var a=r[o],i=s.join(t,a);c.statSync(i).isDirectory()?e(i,n):(c.writeFileSync(i,c.readFileSync(i).toString().replace(u,l)),d("create",s.relative(n,i)))}}(t,t),d("success",'Generated project "'+l+'"'),console.log("To start, run:\n\tcd "+l+"\n\tnpm install\n\tnpm run dev")})}(t,n)})})}(t)})}t.get(e,function(e){300<=e.statusCode&&e.statusCode<400&&void 0!==e.headers.location?t.get(e.headers.location,function(e){n(e)}):n(e)})}();