/**
 * Moon Browser v1.0.0-beta.4
 * Copyright 2016-2019 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
!function(){"use strict";var t=/[@$\w.]/;function n(t,n){this.expected=t,this.index=n}var e=function(t,e){return function(r,o){var i=e(r,o);return i instanceof n?i:[{type:t,value:i[0]},i[1]]}},r=function(t,e){return e===t.length?["EOF",e]:new n("EOF",e)},o=function(t,e){return e<t.length?[t[e],e+1]:new n("any",e)},i=function(t){return function(e,r){var o=e[r];return o===t?[o,r+1]:new n('"'+t+'"',r)}},a=function(t){return function(e,r){var o=e[r];return void 0!==o&&t.test(o)?[o,r+1]:new n(t.toString(),r)}},u=function(t){return function(e,r){var o=r+t.length;return e.slice(r,o)===t?[t,o]:new n('"'+t+'"',r)}},s=function(t){return function(e,r){if(r<e.length){for(var o=0;o<t.length;o++){var i=t[o];if(e.slice(r,r+i.length)===i)return new n('not "'+i+'"',r)}return[e[r],r+1]}return new n("not "+t.map(JSON.stringify).join(", "),r)}},c=function(t,e){return function(r,o){var i=t(r,o);if(i instanceof n){var a=e(r,o);return a instanceof n&&i.index>a.index?i:a}return i}},f=function(t,e){return function(r,o){var i=t(r,o);if(i instanceof n)return i;var a=e(r,i[1]);return a instanceof n?a:[[i[0],a[0]],a[1]]}},p=function(t){return function(e,r){for(var o=[],i=0;i<t.length;i++){var a=t[i](e,r);if(a instanceof n)return a;o.push(a[0]),r=a[1]}return[o,r]}},l=function(t){return function(e,r){for(var o=new n("alternates",-1),i=0;i<t.length;i++){var a=t[i](e,r);if(!(a instanceof n))return a;a.index>o.index&&(o=a)}return o}},v=function(t){return function(e,r){for(var o,i=[];!((o=t(e,r))instanceof n);)i.push(o[0]),r=o[1];return[i,r]}},d=function(t){return function(e,r){var o=[],i=t(e,r);if(i instanceof n)return i;for(o.push(i[0]),r=i[1];!((i=t(e,r))instanceof n);)o.push(i[0]),r=i[1];return[o,r]}},h={whitespaces:v(l([i(" "),i("\t"),i("\n")])),value:function(n,e){return l([d(a(t)),p([i('"'),v(c(f(i("\\"),o),s(['"']))),i('"')]),p([i("'"),v(c(f(i("\\"),o),s(["'"]))),i("'")]),p([i("`"),v(c(f(i("\\"),o),s(["`"]))),i("`")]),p([i("("),h.expression,i(")")]),p([i("["),h.expression,i("]")]),p([i("{"),h.expression,i("}")])])(n,e)},attributes:function(t,n){return e("attributes",v(p([h.value,i("="),h.value,h.whitespaces])))(t,n)},text:e("text",d(c(f(i("\\"),o),s(["{","<"])))),interpolation:function(t,n){return e("interpolation",p([i("{"),h.expression,i("}")]))(t,n)},node:function(t,n){return e("node",p([i("<"),h.whitespaces,h.value,h.whitespaces,u("#>")]))(t,n)},nodeData:function(t,n){return e("nodeData",p([i("<"),h.whitespaces,h.value,h.whitespaces,c(f(h.value,u("/>")),f(h.attributes,u("/>")))]))(t,n)},nodeDataChildren:function(t,n){return e("nodeDataChildren",p([i("<"),h.whitespaces,h.value,h.whitespaces,h.attributes,i(">"),v(l([h.node,h.nodeData,h.nodeDataChildren,h.text,h.interpolation])),u("</"),v(s([">"])),i(">")]))(t,n)},expression:function(t,n){return v(l([p([u("//"),v(s(["\n"]))]),p([u("/*"),v(s(["*/"])),u("*/")]),p([i("/"),d(c(f(i("\\"),s(["\n"])),s(["/","\n"]))),i("/")]),h.value,h.node,h.nodeData,h.nodeDataChildren,i("/"),i("<"),d(s(["/",'"',"'","`","(",")","[","]","{","}","<"]))]))(t,n)},main:function(t,n){return f(h.expression,r)(t,n)}};function x(t){return h.main(t,0)}x.Error=n;var g=/^\s+$/,w=/(^|[^\\])("|\n)/g;function m(t){var n=t.type;if("string"==typeof t)return t;if(Array.isArray(t)){for(var e="",r=0;r<t.length;r++)e+=m(t[r]);return e}if("attributes"===n){for(var o=t.value,i="",a="",u=0;u<o.length;u++){var s=o[u];i+=a+'"'+m(s[0])+'":'+m(s[2])+m(s[3]),a=","}return{output:i,separator:a}}if("text"===n){var c=m(t.value),f=g.test(c)&&-1!==c.indexOf("\n");return{output:f?c:'Moon.view.m.text({data:"'+c.replace(w,(function(t,n,e){return n+('"'===e?'\\"':"\\n\\\n")}))+'"})',isWhitespace:f}}if("interpolation"===n)return"Moon.view.m.text({data:"+m(t.value[1])+"})";if("node"===n){var p=t.value;return m(p[1])+m(p[2])+m(p[3])}if("nodeData"===n){var l=t.value,v=l[4][0],d=m(v);return""+m(l[1])+m(l[2])+m(l[3])+"("+("attributes"===v.type?"{"+d.output+"}":d)+")"}if("nodeDataChildren"===n){var h,x=t.value,y=m(x[4]),E=x[6],M=E.length;if(0===M)h="";else{var T="";h=y.separator+"children:[";for(var D=0;D<M;D++){var C=E[D],b=m(C);"text"===C.type?b.isWhitespace?h+=b.output:(h+=T+b.output,T=","):(h+=T+b,T=",")}h+="]"}return""+m(x[1])+m(x[2])+m(x[3])+"({"+y.output+h+"})"}}function y(t){console.error("[Moon] ERROR: "+t)}function E(t,n){for(var e=n-t.length,r=0;r<e;r++)t=" "+t;return t}var M={compile:function(t){var n=x(t);return n instanceof x.Error&&y("Invalid input to parser.\n\nAttempted to parse input.\n\nExpected "+n.expected+".\n\nReceived:\n\n"+function(t,n){for(var e=t.split("\n"),r=1,o=1,i=0;i<t.length;i++){var a=t[i];if(i===n){var u=r-1,s=r+1,c=Math.max(Math.floor(Math.log10(u)+1),Math.floor(Math.log10(r)+1),Math.floor(Math.log10(s)+1))+2,f=e[u-1],p=e[r-1],l=e[s-1],v="";return void 0!==f&&(v+=E(u+"| ",c)+f+"\n"),v+=E(r+"| ",c)+p+"\n"+E("| ",c)+E("^",o),void 0!==l&&(v+="\n"+E(s+"| ",c)+l),v}"\n"===a?(r+=1,o=1):o+=1}}(t,n.index)),m(n[0][0])},generate:m,parse:x,version:"1.0.0-beta.4"},T=[];document.addEventListener("DOMContentLoaded",(function(){for(var t=document.querySelectorAll("script"),n=0;n<t.length;n++){var e=t[n];"text/moon"===e.type&&T.push(e)}!function t(){if(0!==T.length){var n=T.shift(),e=n.src;if(0===e.length){var r=document.createElement("script");r.type="text/javascript",r.text=M.compile(n.text),n.parentNode.replaceChild(r,n),t()}else{var o=new XMLHttpRequest;o.responseType="text",o.onload=function(){if(0===o.status||200===o.status){var r=document.createElement("script");r.type="text/javascript",r.text=M.compile(o.response),n.parentNode.replaceChild(r,n)}else y("Invalid script HTTP response.\n\nAttempted to download script:\n\t"+e+"\n\nReceived error HTTP status code:\n\t"+o.status+"\n\nExpected OK HTTP status code 0 or 200.");t()},o.onerror=function(){y("Failed script HTTP request.\n\nAttempted to download script:\n\t"+e+"\n\nReceived error.\n\nExpected successful HTTP request."),t()},o.open("GET",e,!0),o.send(null)}}}()}))}();