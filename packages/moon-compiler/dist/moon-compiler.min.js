/**
 * Moon Compiler v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(t,n){"undefined"==typeof module?t.MoonCompiler=n():module.exports=n()}(this,(function(){"use strict";var t=/^[.*$\w]/;function n(t,n){this.expected=t,this.index=n}var e=function(t,e){return function(r,o){var i=e(r,o);return i instanceof n?i:[{type:t,value:i[0]},i[1]]}},r=function(t,e){return e===t.length?["EOF",e]:new n("EOF",e)},o=function(t,e){return e<t.length?[t[e],e+1]:new n("any",e)},i=function(t){return function(e,r){var o=e[r];return o===t?[o,r+1]:new n(t,r)}},a=function(t){return function(e,r){var o=e[r];return void 0!==o&&t.test(o)?[o,r+1]:new n(t.toString(),r)}},u=function(t){return function(e,r){var o=r+t.length;return e.slice(r,o)===t?[t,o]:new n(t,r)}},s=function(t){return function(e,r){if(r<e.length){for(var o=0;o<t.length;o++){var i=t[o];if("string"==typeof i){if(e.slice(r,r+i.length)===i)return new n("not "+i,r)}else if(i.test(e.slice(r)))return new n("not "+i.toString(),r)}return[e[r],r+1]}return new n("not "+t.join(", "),r)}},c=function(t,e){return function(r,o){var i=t(r,o);return i instanceof n&&i.index===o?e(r,o):i}},f=function(t,e){return function(r,o){var i=t(r,o);if(i instanceof n)return i;var a=e(r,i[1]);return a instanceof n?a:[[i[0],a[0]],a[1]]}},l=function(t){return function(e,r){for(var o=[],i=0;i<t.length;i++){var a=t[i](e,r);if(a instanceof n)return a;o.push(a[0]),r=a[1]}return[o,r]}},d=function(t){return function(e,r){for(var o=new n("",-1),i=0;i<t.length;i++){var a=t[i](e,r);if(!(a instanceof n&&a.index===r))return a;a.index>o.index&&(o=a)}return o}},p=function(t){return function(e,r){for(var o,i=[];!((o=t(e,r))instanceof n);)i.push(o[0]),r=o[1];return o.index===r?[i,r]:o}},m=function(t){return function(e,r){var o=[],i=t(e,r);if(i instanceof n)return i;for(o.push(i[0]),r=i[1];!((i=t(e,r))instanceof n);)o.push(i[0]),r=i[1];return i.index===r?[o,r]:i}},v=function(t){return function(e,r){var o=t(e,r);return o instanceof n&&(o.index=r),o}},h={comment:e("comment",l([i("#"),p(c(f(i("\\"),o),s(["#"]))),i("#")])),separator:function(t,n){return p(c(d([i(" "),i("\t"),i("\n")]),h.comment))(t,n)},identifier:m(a(t)),attributes:function(t,n){return e("attributes",p(l([h.identifier,i("="),h.value,h.separator])))(t,n)},text:e("text",m(c(f(i("\\"),o),s(["{","<"])))),interpolation:function(t,n){return e("interpolation",l([i("{"),h.expression,i("}")]))(t,n)},node:function(t,n){return e("node",l([u("</"),h.separator,h.value,h.separator,u("/>")]))(t,n)},nodeData:function(t,n){return e("nodeData",l([i("<"),h.separator,h.value,h.separator,c(v(f(h.value,u("/>"))),f(h.attributes,u("/>")))]))(t,n)},nodeDataChildren:function(t,n){return e("nodeDataChildren",l([i("<"),h.separator,h.value,h.separator,h.attributes,i(">"),p(d([v(h.node),v(h.nodeData),v(h.nodeDataChildren),h.text,h.interpolation])),u("</"),p(s([">"])),i(">")]))(t,n)},value:function(t,n){return d([h.identifier,l([i('"'),p(c(f(i("\\"),o),s(['"']))),i('"')]),l([i("'"),p(c(f(i("\\"),o),s(["'"]))),i("'")]),l([i("`"),p(c(f(i("\\"),o),s(["`"]))),i("`")]),l([i("("),h.expression,i(")")]),l([i("["),h.expression,i("]")]),l([i("{"),h.expression,i("}")]),v(h.node),v(h.nodeData),v(h.nodeDataChildren)])(t,n)},expression:function(n,e){return p(d([l([u("//"),p(s(["\n"]))]),l([u("/*"),p(s(["*/"])),u("*/")]),v(l([i("/"),m(c(f(i("\\"),s(["\n"])),s(["/","\n"]))),i("/")])),h.comment,h.value,i("/"),i("<"),i(">"),m(s(["/","#",t,'"',"'","`","(",")","[","]","{","}","<",">"]))]))(n,e)},main:function(t,n){return f(h.expression,r)(t,n)}};function b(t){return h.main(t,0)}var g=["root","router","timer","httper"].concat(["a","abbr","acronym","address","applet","article","aside","b","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","button","canvas","caption","center","cite","code","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","html","i","iframe","image","ins","isindex","kbd","label","legend","li","listing","main","map","mark","marquee","math","menu","menuitem","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","tfoot","th","thead","time","title","tr","tt","u","ul","var","xmp"]).concat(["area","base","br","col","embed","hr","img","keygen","link","meta","param","source","text","track","wbr"]).concat(["audio","input","textarea","video"]);var x=/^\s+$/,y=/(^|[^\\])("|\n)/g;function w(t){var n=D(t);return-1===g.indexOf(n)?n:"Moon.components."+n}function D(t){var n=t.type;if("string"==typeof t)return t;if(Array.isArray(t)){for(var e="",r=0;r<t.length;r++)e+=D(t[r]);return e}if("comment"===n)return"/*"+D(t.value[1])+"*/";if("attributes"===n){for(var o=t.value,i="",a="",u=0;u<o.length;u++){var s=o[u],c=D(s[0]),f=s[2],l=void 0;if("*"===c[0]){var d=D(f[1]);l='{value:"'+d+'",get:function(m){return m'+d+";},set:function(m,MoonValue){m"+d+"=MoonValue;return m;}}"}else l=D(f);i+=a+'"'+c+'":'+l+D(s[3]),a=","}return{output:i,separator:a}}if("text"===n){var p=D(t.value),m=x.test(p)&&-1!==p.indexOf("\n");return{output:m?p:'Moon.components.text({data:"'+p.replace(y,(function(t,n,e){return n+('"'===e?'\\"':"\\n\\\n")}))+'"})',isWhitespace:m}}if("interpolation"===n)return"Moon.components.text({data:"+D(t.value[1])+"})";if("node"===n){var v=t.value;return D(v[1])+w(v[2])+D(v[3])}if("nodeData"===n){var h=t.value,b=h[4][0],g=D(b);return""+D(h[1])+w(h[2])+D(h[3])+"("+("attributes"===b.type?"{"+g.output+"}":g)+")"}if("nodeDataChildren"===n){var k,C=t.value,M=D(C[4]),O=C[6],q=O.length;if(0===q)k="";else{var j="";k=M.separator+"children:[";for(var A=0;A<q;A++){var E=O[A],F=D(E);"text"===E.type?F.isWhitespace?k+=F.output:(k+=j+F.output,j=","):(k+=j+F,j=",")}k+="]"}return""+D(C[1])+w(C[2])+D(C[3])+"({"+M.output+k+"})"}}return{compile:function(t){var n=b(t);return D(n[0][0])},generate:D,parse:b,version:"1.0.0-beta.7"}}));