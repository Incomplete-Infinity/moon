/**
 * Moon Compiler v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(t,n){"undefined"==typeof module?t.MoonCompiler=n():module.exports=n()}(this,(function(){"use strict";function t(t,n){this.expected=t,this.index=n}var n=function(n,e){return function(r,i){var o=e(r,i);return o instanceof t?o:[{type:n,value:o[0]},o[1]]}},e=function(n,e){return e===n.length?["EOF",e]:new t("EOF",e)},r=function(n,e){return e<n.length?[n[e],e+1]:new t("any",e)},i=function(n){return function(e,r){var i=e[r];return i===n?[i,r+1]:new t(n,r)}},o=function(n){return function(e,r){var i=e[r];return void 0!==i&&n.test(i)?[i,r+1]:new t(n.toString(),r)}},a=function(n){return function(e,r){var i=r+n.length;return e.slice(r,i)===n?[n,i]:new t(n,r)}},u=function(n){return function(e,r){if(r<e.length){for(var i=0;i<n.length;i++){var o=n[i];if(e.slice(r,r+o.length)===o)return new t("not "+o,r)}return[e[r],r+1]}return new t("not "+n.join(", "),r)}},f=function(n,e){return function(r,i){var o=n(r,i);return o instanceof t&&o.index===i?e(r,i):o}},s=function(n,e){return function(r,i){var o=n(r,i);if(o instanceof t)return o;var a=e(r,o[1]);return a instanceof t?a:[[o[0],a[0]],a[1]]}},c=function(n){return function(e,r){var i=n(e,r);return i instanceof t&&i.index===r?[[],r]:i}},l=function(n){return function(e,r){for(var i=[],o=0;o<n.length;o++){var a=n[o](e,r);if(a instanceof t)return a;i.push(a[0]),r=a[1]}return[i,r]}},d=function(n){return function(e,r){for(var i=new t("",-1),o=0;o<n.length;o++){var a=n[o](e,r);if(!(a instanceof t&&a.index===r))return a;a.index>i.index&&(i=a)}return i}},p=function(n){return function(e,r){for(var i,o=[];!((i=n(e,r))instanceof t);)o.push(i[0]),r=i[1];return i.index===r?[o,r]:i}},v=function(n){return function(e,r){var i=[],o=n(e,r);if(o instanceof t)return o;for(i.push(o[0]),r=o[1];!((o=n(e,r))instanceof t);)i.push(o[0]),r=o[1];return o.index===r?[i,r]:o}},m=function(n){return function(e,r){var i=n(e,r);return i instanceof t&&(i.index=r),i}},h={comment:n("comment",l([i("#"),p(f(s(i("\\"),r),u(["#"]))),i("#")])),separator:function(t,n){return p(f(d([i(" "),i("\t"),i("\n")]),h.comment))(t,n)},identifierProperty:s(c(i(".")),v(o(/[$\w]/))),array:function(t,n){return l([i("["),h.expression,i("]")])(t,n)},identifier:function(t,e){return n("identifier",s(h.identifierProperty,p(f(h.identifierProperty,h.array))))(t,e)},value:function(t,n){return d([h.identifier,l([i('"'),p(f(s(i("\\"),r),u(['"']))),i('"')]),l([i("'"),p(f(s(i("\\"),r),u(["'"]))),i("'")]),l([i("`"),p(f(s(i("\\"),r),u(["`"]))),i("`")]),l([i("("),h.expression,i(")")]),h.array,l([i("{"),h.expression,i("}")])])(t,n)},attributes:function(t,e){return n("attributes",p(l([h.value,i("="),h.value,h.separator])))(t,e)},text:n("text",v(f(s(i("\\"),r),u(["{","<"])))),interpolation:function(t,e){return n("interpolation",l([i("{"),h.expression,i("}")]))(t,e)},node:function(t,e){return n("node",l([i("<"),h.separator,h.value,h.separator,a("*>")]))(t,e)},nodeData:function(t,e){return n("nodeData",l([i("<"),h.separator,h.value,h.separator,f(m(h.attributes),h.value),a("/>")]))(t,e)},nodeDataChildren:function(t,e){return n("nodeDataChildren",l([i("<"),h.separator,h.value,h.separator,h.attributes,i(">"),p(d([m(h.node),m(h.nodeData),m(h.nodeDataChildren),h.text,h.interpolation])),a("</"),p(u([">"])),i(">")]))(t,e)},expression:function(t,n){return p(d([l([a("//"),p(u(["\n"]))]),l([a("/*"),p(u(["*/"])),a("*/")]),m(l([i("/"),v(f(s(i("\\"),u(["\n"])),u(["/","\n"]))),i("/")])),h.comment,h.value,m(h.node),m(h.nodeData),m(h.nodeDataChildren),i("/"),i("<"),v(u(["/","#",'"',"'","`","(",")","[","]","{","}","<"]))]))(t,n)},main:function(t,n){return s(h.expression,e)(t,n)}};function b(t){return h.main(t,0)}var g=["root","element","router","timer","httper","a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];var x=/^\s+$/,y=/(^|[^\\])("|\n)/g;function w(t){var n=D(t);return-1===g.indexOf(n)?n:"Moon.components."+n}function D(t){var n=t.type;if("string"==typeof t)return t;if(Array.isArray(t)){for(var e="",r=0;r<t.length;r++)e+=D(t[r]);return e}if("comment"===n)return"/*"+D(t.value[1])+"*/";if("identifier"===n){var i,o=t.value,a=o[0],u=o[1];if(0===a[0].length){i=D(a);for(var f=0;f<u.length;f++)i+=D(u[f])}else{i='["'+D(a[1])+'"';for(var s=0;s<u.length;s++){var c=u[s];i+=",","["===c[0]?i+=D(c[1]):i+='"'+D(c[1])+'"'}i+="]"}return i}if("attributes"===n){for(var l=t.value,d="",p="",v=0;v<l.length;v++){var m=l[v];d+=p+'"'+D(m[0])+'":'+D(m[2])+D(m[3]),p=","}return{output:d,separator:p}}if("text"===n){var h=D(t.value),b=x.test(h)&&-1!==h.indexOf("\n");return{output:b?h:'Moon.components.text({data:"'+h.replace(y,(function(t,n,e){return n+('"'===e?'\\"':"\\n\\\n")}))+'"})',isWhitespace:b}}if("interpolation"===n)return"Moon.components.text({data:"+D(t.value[1])+"})";if("node"===n){var g=t.value;return D(g[1])+w(g[2])+D(g[3])}if("nodeData"===n){var k=t.value,C=k[4],M=D(C);return""+D(k[1])+w(k[2])+D(k[3])+"("+("attributes"===C.type?"{"+M.output+"}":M)+")"}if("nodeDataChildren"===n){var O,q=t.value,P=D(q[4]),j=q[6],A=j.length;if(0===A)O="";else{var E="";O=P.separator+"children:[";for(var F=0;F<A;F++){var W=j[F],$=D(W);"text"===W.type?$.isWhitespace?O+=$.output:(O+=E+$.output,E=","):(O+=E+$,E=",")}O+="]"}return""+D(q[1])+w(q[2])+D(q[3])+"({"+P.output+O+"})"}}return{compile:function(t){var n=b(t);return D(n[0][0])},generate:D,parse:b,version:"1.0.0-beta.7"}}));