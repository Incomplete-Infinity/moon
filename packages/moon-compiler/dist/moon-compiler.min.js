/**
 * Moon Compiler v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(t,e){"undefined"==typeof module?t.MoonCompiler=e():module.exports=e()}(this,(function(){"use strict";var t=/^[*$\w]/;function e(t,e){this.expected=t,this.index=e}var n=function(t,n){return function(r,i){var o=n(r,i);return o instanceof e?o:[{type:t,value:o[0]},o[1]]}},r=function(t,n){return n===t.length?["EOF",n]:new e("EOF",n)},i=function(t,n){return n<t.length?[t[n],n+1]:new e("any",n)},o=function(t){return function(n,r){var i=n[r];return i===t?[i,r+1]:new e(t,r)}},a=function(t){return function(n,r){var i=n[r];return void 0!==i&&t.test(i)?[i,r+1]:new e(t.toString(),r)}},u=function(t){return function(n,r){var i=r+t.length;return n.slice(r,i)===t?[t,i]:new e(t,r)}},f=function(t){return function(n,r){if(r<n.length){for(var i=0;i<t.length;i++){var o=t[i];if("string"==typeof o){if(n.slice(r,r+o.length)===o)return new e("not "+o,r)}else if(o.test(n.slice(r)))return new e("not "+o.toString(),r)}return[n[r],r+1]}return new e("not "+t.join(", "),r)}},s=function(t,n){return function(r,i){var o=t(r,i);return o instanceof e&&o.index===i?n(r,i):o}},c=function(t,n){return function(r,i){var o=t(r,i);if(o instanceof e)return o;var a=n(r,o[1]);return a instanceof e?a:[[o[0],a[0]],a[1]]}},l=function(t){return function(n,r){var i=t(n,r);return i instanceof e&&i.index===r?[[],r]:i}},d=function(t){return function(n,r){for(var i=[],o=0;o<t.length;o++){var a=t[o](n,r);if(a instanceof e)return a;i.push(a[0]),r=a[1]}return[i,r]}},p=function(t){return function(n,r){for(var i=new e("",-1),o=0;o<t.length;o++){var a=t[o](n,r);if(!(a instanceof e&&a.index===r))return a;a.index>i.index&&(i=a)}return i}},v=function(t){return function(n,r){for(var i,o=[];!((i=t(n,r))instanceof e);)o.push(i[0]),r=i[1];return i.index===r?[o,r]:i}},m=function(t){return function(n,r){var i=[],o=t(n,r);if(o instanceof e)return o;for(i.push(o[0]),r=o[1];!((o=t(n,r))instanceof e);)i.push(o[0]),r=o[1];return o.index===r?[i,r]:o}},h=function(t){return function(n,r){var i=t(n,r);return i instanceof e&&(i.index=r),i}},b={comment:n("comment",d([o("#"),v(s(c(o("\\"),i),f(["#"]))),o("#")])),separator:function(t,e){return v(s(p([o(" "),o("\t"),o("\n")]),b.comment))(t,e)},identifierProperty:c(l(o(".")),m(a(t))),brackets:function(t,e){return d([o("["),b.expression,o("]")])(t,e)},identifier:function(t,e){return n("identifier",c(b.identifierProperty,v(s(b.identifierProperty,b.brackets))))(t,e)},value:function(t,e){return n("value",p([b.identifier,d([o('"'),v(s(c(o("\\"),i),f(['"']))),o('"')]),d([o("'"),v(s(c(o("\\"),i),f(["'"]))),o("'")]),d([o("`"),v(s(c(o("\\"),i),f(["`"]))),o("`")]),d([o("("),b.expression,o(")")]),b.brackets,d([o("{"),b.expression,o("}")])]))(t,e)},attributes:function(t,e){return n("attributes",v(d([b.identifierProperty,o("="),b.value,b.separator])))(t,e)},text:n("text",m(s(c(o("\\"),i),f(["{","<"])))),interpolation:function(t,e){return n("interpolation",d([o("{"),b.expression,o("}")]))(t,e)},node:function(t,e){return n("node",d([u("</"),b.separator,b.value,b.separator,u("/>")]))(t,e)},nodeData:function(t,e){return n("nodeData",d([o("<"),b.separator,b.value,b.separator,s(h(b.attributes),b.value),u("/>")]))(t,e)},nodeDataChildren:function(t,e){return n("nodeDataChildren",d([o("<"),b.separator,b.value,b.separator,b.attributes,o(">"),v(p([h(b.node),h(b.nodeData),h(b.nodeDataChildren),b.text,b.interpolation])),u("</"),v(f([">"])),o(">")]))(t,e)},expression:function(e,n){return v(p([d([u("//"),v(f(["\n"]))]),d([u("/*"),v(f(["*/"])),u("*/")]),h(d([o("/"),m(s(c(o("\\"),f(["\n"])),f(["/","\n"]))),o("/")])),h(u("...")),b.comment,b.value,h(b.node),h(b.nodeData),h(b.nodeDataChildren),o("/"),o("<"),m(f(["/",".","#",t,'"',"'","`","(",")","[","]","{","}","<"]))]))(e,n)},main:function(t,e){return c(b.expression,r)(t,e)}};function g(t){return b.main(t,0)}var x=["root","element","router","timer","httper","a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];var y=/^\s+$/,w=/(^|[^\\])("|\n)/g;function k(t){return t.replace(w,(function(t,e,n){return e+('"'===n?'\\"':"\\n\\\n")}))}function D(t){var e=C(t);return-1===x.indexOf(e)?e:"Moon.components."+e}function C(t){var e=t.type;if("string"==typeof t)return t;if(Array.isArray(t)){for(var n="",r=0;r<t.length;r++)n+=C(t[r]);return n}if("comment"===e)return"/*"+C(t.value[1])+"*/";if("identifier"===e){var i=t.value,o=C(i);return 1===i[0][0].length&&(o='{value:"'+k(o)+'",get:function(m){return m'+o+";},set:function(m,MoonValue){m"+o+"=MoonValue;return m;}}"),o}if("value"===e)return C(t.value);if("attributes"===e){for(var a=t.value,u="",f="",s=0;s<a.length;s++){var c=a[s];u+=f+'"'+C(c[0])+'":'+C(c[2])+C(c[3]),f=","}return{output:u,separator:f}}if("text"===e){var l=C(t.value),d=y.test(l)&&-1!==l.indexOf("\n");return{output:d?l:'Moon.components.text({data:"'+k(l)+'"})',isWhitespace:d}}if("interpolation"===e)return"Moon.components.text({data:"+C(t.value[1])+"})";if("node"===e){var p=t.value;return C(p[1])+D(p[2])+C(p[3])}if("nodeData"===e){var v=t.value,m=v[4],h=C(m);return""+C(v[1])+D(v[2])+C(v[3])+"("+("attributes"===m.type?"{"+h.output+"}":h)+")"}if("nodeDataChildren"===e){var b,g=t.value,x=C(g[4]),w=g[6],M=w.length;if(0===M)b="";else{var O="";b=x.separator+"children:[";for(var P=0;P<M;P++){var q=w[P],j=C(q);"text"===q.type?j.isWhitespace?b+=j.output:(b+=O+j.output,O=","):(b+=O+j,O=",")}b+="]"}return""+C(g[1])+D(g[2])+C(g[3])+"({"+x.output+b+"})"}}return{compile:function(t){var e=g(t);return C(e[0][0])},generate:C,parse:g,version:"1.0.0-beta.7"}}));