/**
 * Moon v1.0.0-beta.4
 * Copyright 2016-2019 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
!function(e,r){"undefined"==typeof module?e.Moon=r():module.exports=r()}(this,(function(){"use strict";var e,r;function a(r){var a={};for(var t in e)a[t]=e[t].input();var n=r(a);for(var o in n)e[o].output(n[o])}var t={driver:{input:function(){return r},output:function(e){r=e}}};function n(e,r){this.name=e,this.data=r}var o={};var i,s,u=null;function l(){}function d(e){var r=e.name;if("text"===r)return document.createTextNode(e.data.data);var a=document.createElement(r),t=e.data;for(var n in t){var o=t[n];if(64===n.charCodeAt(0)){var i=a.MoonEvent;null===i&&(i=a.MoonEvent=new l),i[n]=o,a.addEventListener(n.slice(1),i)}else switch(n){case"ariaset":for(var s in o)a.setAttribute("aria-"+s,o[s]);break;case"dataset":var u=a.dataset;for(var c in o)u[c]=o[c];break;case"style":var f=a.style;for(var v in o)f[v]=o[v];break;case"focus":o&&a.focus();break;case"class":a.className=o;break;case"for":a.htmlFor=o;break;case"children":for(var p=a.MoonChildren=[],m=0;m<o.length;m++){var h=d(o[m]);p.push(h),a.appendChild(h)}break;default:a[n]=o}}return a}l.prototype.handleEvent=function(e){a(this["@"+(u=e).type])},Node.prototype.MoonChildren=null,Node.prototype.MoonEvent=null;for(var c=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],f={node:function(e){return function(r){return new n(e,r)}}},v=function(e){var r=c[e];f[r]=function(e){return new n(r,e)}},p=0;p<c.length;p++)v(p);var m={driver:function(e){for(var r=(s="string"==typeof e?document.querySelector(e):e).attributes,a={},t=0;t<r.length;t++){var c=r[t];a[c.name]=c.value}return i=new n(s.tagName.toLowerCase(),a),{input:function(){return u},output:function(e){if(i.name===e.name)!function e(r,a,t){var n=r.data,i=t.data;for(var s in i){var u=n[s],c=i[s];if(u!==c)if(64===s.charCodeAt(0)){var f=a.MoonEvent;null===f&&(f=a.MoonEvent=new l),s in f?f[s]=c:(f[s]=c,a.addEventListener(s.slice(1),f))}else switch(s){case"ariaset":if(void 0===u)for(var v in c)a.setAttribute("aria-"+v,c[v]);else{for(var p in c){var m=c[p];u[p]!==m&&a.setAttribute("aria-"+p,m)}for(var h in u)h in c||a.removeAttribute("aria-"+h)}break;case"dataset":var b=a.dataset;if(void 0===u)for(var g in c)b[g]=c[g];else{for(var k in c){var y=c[k];u[k]!==y&&(b[k]=y)}for(var C in u)C in c||delete b[C]}break;case"style":var E=a.style;if(void 0===u)for(var M in c)E[M]=c[M];else{for(var w in c){var x=c[w];u[w]!==x&&(E[w]=x)}for(var A in u)A in c||(E[A]="")}break;case"focus":c?a.focus():a.blur();break;case"class":a.className=c;break;case"for":a.htmlFor=c;break;case"children":var N=c.length;if(void 0===u)for(var L=a.MoonChildren=[],q=0;q<N;q++){var T=d(c[q]);L.push(T),a.appendChild(T)}else{var F=u.length;if(F===N)for(var H=a.MoonChildren,R=0;R<F;R++){var S=u[R],j=c[R];if(S!==j)if(S.name===j.name)e(S,H[R],j);else{var D=d(j);a.replaceChild(D,H[R]),H[R]=D}}else if(F>N){for(var G=a.MoonChildren,X=0;X<N;X++){var $=u[X],z=c[X];if($!==z)if($.name===z.name)e($,G[X],z);else{var B=d(z);a.replaceChild(B,G[X]),G[X]=B}}for(var I=N;I<F;I++)a.removeChild(G.pop())}else{for(var J=a.MoonChildren,K=0;K<F;K++){var O=u[K],P=c[K];if(O!==P)if(O.name===P.name)e(O,J[K],P);else{var Q=d(P);a.replaceChild(Q,J[K]),J[K]=Q}}for(var U=F;U<N;U++){var V=d(c[U]);J.push(V),a.appendChild(V)}}}break;default:a[s]=c}}var W,Y,Z=r.name;for(var _ in n)if(!(_ in i))if(64===_.charCodeAt(0)){var ee=a.MoonEvent;delete ee[_],a.removeEventListener(_.slice(1),ee)}else switch(_){case"ariaset":var re=n.ariaset;for(var ae in re)a.removeAttribute("aria-"+ae);break;case"dataset":var te=n.dataset,ne=a.dataset;for(var oe in te)delete ne[oe];break;case"focus":a.blur();break;case"class":a.className="";break;case"for":a.htmlFor="";break;case"children":for(var ie=n.children.length,se=a.MoonChildren,ue=0;ue<ie;ue++)a.removeChild(se.pop());break;default:W=Z,a[Y=_]=W in o?o[W][Y]:(o[W]=document.createElement(W))[Y]}}(i,s,e);else{var r=d(e);s.parentNode.replaceChild(r,s),s=r}i=e}}},m:f},h={driver:{input:function(){return Date.now()},output:function(e){var r=function(r){setTimeout((function(){a(e[r])}),r)};for(var t in e)r(t)}}},b=null,g=/^([^:]+):\s*([^]*?)\s*$/gm,k={driver:{input:function(){return b},output:function(e){for(var r=function(r){var t=e[r],n=new XMLHttpRequest;if(n.responseType="responseType"in t?t.responseType:"text",n.onload=function(){for(var e,r={},o=n.getAllResponseHeaders();null!==(e=g.exec(o));)r[e[1]]=e[2];b={status:n.status,headers:r,body:n.response},"onLoad"in t&&a(t.onLoad)},n.onerror=function(){b=null,"onError"in t&&a(t.onError)},n.open("method"in t?t.method:"GET",t.url),"headers"in t){var o=t.headers;for(var i in o)n.setRequestHeader(i,o[i])}n.send("body"in t?t.body:null)},t=0;t<e.length;t++)r(t)}}},y=location.pathname;return{data:t,http:k,route:{driver:{input:function(){return y},output:function(e){y=e,history.pushState(null,"",y)}},router:function(e){for(var r=e.route,a="/",t=e.routes,n=1;n<r.length;n++){var o=r[n];"/"===o?(t=(a in t?t[a]:t["/*"])[1],a="/"):a+=o}return(a in t?t[a]:t["/*"])[0](e)}},run:a,time:h,use:function(r){e=r},version:"1.0.0-beta.4",view:m}}));