/**
 * Moon v1.0.0-beta.4
 * Copyright 2016-2019 Kabir Shah
 * Released under the MIT License
 * https://kbrsh.github.io/moon
 */
!function(e,t){"undefined"==typeof module?e.Moon=t():module.exports=t()}(this,function(){"use strict";var i,e={driver:function(t){return{input:function(){return t},output:function(e){t=e}}}};function r(e){var t={};for(var n in i)t[n]=i[n].input();var r=e(t);for(var a in r)i[a].output(r[a])}function v(e,t,n){this.node=e,this.element=t,this.children=n}function o(e,t,n){this.name=e,this.data=t,this.children=n}var l,q={};function D(e,t,n){if("ariaset"===t)for(var r in n)e.setAttribute("aria-"+r,n[r]);else{var a=e[t];for(var i in n)a[i]=n[i]}}function S(e,t,n,r){for(var a in n)if(!(a in r))switch(t){case"ariaset":e.removeAttribute("aria-"+a);break;case"dataset":delete e.dataset[a];break;default:e.style[a]=""}}function j(){}function z(e){var t,n=e.name,r=[];if("text"===n)t=document.createTextNode(e.data[""]);else{t=document.createElement(n);for(var a=e.children,i=0;i<a.length;i++){var o=z(a[i]);r.push(o),t.appendChild(o.element)}var l=e.data;for(var u in l){var s=l[u];if(64===u.charCodeAt(0)){var f=t.MoonEvent;null===f&&(f=t.MoonEvent=new j),f[u]=s,t.addEventListener(u.slice(1),f)}else"ariaset"===u||"dataset"===u||"style"===u?D(t,u,s):"class"===u?t.className=s:"for"===u?t.htmlFor=s:t[u]=s}}return new v(e,t,r)}j.prototype.handleEvent=function(e){r(this["@"+(l=e).type])},Node.prototype.MoonEvent=null;var t={input:function(){return Date.now()},output:function(t){function e(e){setTimeout(function(){r(t[e])},e)}for(var n in t)e(n)}};return{data:e,run:r,time:{driver:t},use:function(e){i=e},view:{driver:function(e){"string"==typeof e&&(e=document.querySelector(e));for(var t=e.attributes,n={},r=0;r<t.length;r++){var a=t[r];n[a.name]=a.value}var i=new v(new o(e.tagName.toLowerCase(),n,[]),e,[]);return{input:function(){return l},output:function(e){!function e(t,n){var r,a,i=t.node;if(i!==n){var o=i.name;if(o!==(t.node=n).name){var l=t.element,u=z(n),s=u.element;t.element=s,t.children=u.children,l.parentNode.replaceChild(s,l)}else if("text"===o){var f=n.data[""];i.data[""]!==f&&(t.element.data=f)}else{var v=i.data,d=n.data;if(v!==d){var c=t.element;for(var m in d){var h=v[m],p=d[m];if(h!==p)if(64===m.charCodeAt(0)){var E=c.MoonEvent;null===E&&(E=c.MoonEvent=new j),m in E?E[m]=p:(E[m]=p,c.addEventListener(m.slice(1),E))}else"ariaset"===m||"dataset"===m||"style"===m?(D(c,m,p),void 0!==h&&S(c,m,h,p)):"class"===m?c.className=p:"for"===m?c.htmlFor=p:c[m]=p}for(var w in v)if(!(w in d))if(64===w.charCodeAt(0)){var y=c.MoonEvent;delete y[w],c.removeEventListener(w.slice(1),y)}else"ariaset"===w||"dataset"===w||"style"===w?S(c,w,v[w],{}):"class"===w?c.className="":"for"===w?c.htmlFor="":(r=o,c[a=w]=r in q?q[r][a]:(q[r]=document.createElement(r))[a])}var C=n.children;if(i.children!==C){var M=t.children,N=M.length,g=C.length;if(N===g)for(var b=0;b<N;b++)e(M[b],C[b]);else{var A=t.element;if(g<N){for(var x=0;x<g;x++)e(M[x],C[x]);for(var L=g;L<N;L++)A.removeChild(M.pop().element)}else{for(var F=0;F<N;F++)e(M[F],C[F]);for(var k=N;k<g;k++){var T=z(C[k]);M.push(T),A.appendChild(T.element)}}}}}}}(i,e)}}},m:function(e,t,n){return new o(e,t,n)}}}});