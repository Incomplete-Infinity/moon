/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,n){"undefined"==typeof module?e.Moon=n():module.exports=n()}(this,(function(){"use strict";var e={};function n(n){e=n}var t=null,r={get:function(){return t},set:function(e){t=e}};function a(t){return function(){for(var r in N)e[r]=N[r].get();for(var a in n(M(t(e))),N)N[a].set(e[a])}}function o(){}Node.prototype.MoonChildren=null,Node.prototype.MoonReferenceEvents=null,o.prototype.handleEvent=function(e){this[e.type]()};var u={audio:{"*currentTime":{key:"currentTime",value:function(e,n,t){return e},event:"timeupdate",handler:function(e,n,t){return a((function(t){return e(t,n.currentTime)}))}},"*muted":{key:"muted",value:function(e,n,t){return e},event:"volumechange",handler:function(e,n,t){return a((function(t){return e(t,n.muted)}))}},"*paused":{key:"paused",value:function(e,n,t){return e},event:"pause",handler:function(e,n,t){return a((function(t){return e(t,n.paused)}))}},"*playbackRate":{key:"playbackRate",value:function(e,n,t){return e},event:"ratechange",handler:function(e,n,t){return a((function(t){return e(t,n.playbackRate)}))}},"*volume":{key:"volume",value:function(e,n,t){return e},event:"volumechange",handler:function(e,n,t){return a((function(t){return e(t,n.volume)}))}}},input:{"*checked":{key:"checked",value:function(e,n,t){return e},event:"change",handler:function(e,n,t){return a((function(t){return e(t,n.checked)}))}},"*radio":{key:"checked",value:function(e,n,t){return e===t.value},event:"change",handler:function(e,n,t){return a((function(n){return e(n,t.value)}))}},"*value":{key:"value",value:function(e,n,t){return e},event:"input",handler:function(e,n,t){return a((function(t){return e(t,n.value)}))}}},video:{"*currentTime":{key:"currentTime",value:function(e,n,t){return e},event:"timeupdate",handler:function(e,n,t){return a((function(t){return e(t,n.currentTime)}))}},"*muted":{key:"muted",value:function(e,n,t){return e},event:"volumechange",handler:function(e,n,t){return a((function(t){return e(t,n.muted)}))}},"*paused":{key:"paused",value:function(e,n,t){return e},event:"pause",handler:function(e,n,t){return a((function(t){return e(t,n.paused)}))}},"*playbackRate":{key:"playbackRate",value:function(e,n,t){return e},event:"ratechange",handler:function(e,n,t){return a((function(t){return e(t,n.playbackRate)}))}},"*volume":{key:"volume",value:function(e,n,t){return e},event:"volumechange",handler:function(e,n,t){return a((function(t){return e(t,n.volume)}))}}}},i={};function c(e,n,t,r){this.name=e,this.data=n,this.children=t,this.references=r}function l(e,n){return(e in i?i[e]:i[e]="text"===e?document.createTextNode(""):document.createElement(e))[n]}function s(e){var n,t=e.name;if("text"===t)(n=document.createTextNode(e.data.data)).MoonChildren=[];else{var r=(n=document.createElement(t)).MoonChildren=[],a=e.data,o=e.children,u=e.references;for(var i in a)f(n,t,a,u,i,a[i]);for(var c=0;c<o.length;c++)r.push(n.appendChild(s(o[c])))}return n}function f(e,n,t,r,i,c){switch(i){case"attributes":for(var l in c)e.setAttribute(l,c[l]);break;case"style":var s=e.style;for(var f in c)s[f]=c[f];break;case"class":e.className=c;break;case"for":e.htmlFor=c;break;case"children":break;default:var v=i[0];if("*"===v){var d=r[i],h=u[n][i],m=h.event,p=e.MoonReferenceEvents;null===p&&(p=e.MoonReferenceEvents=new o),e[h.key]=h.value(d.get,e,t),p[m]=h.handler(d.set,e,t),e.addEventListener(m,p)}else"o"===v&&"n"===i[1]?e[i.toLowerCase()]=a(c):e[i]=c}}function v(e,n,t,r,o,i,c){switch(o){case"attributes":for(var l in c){var s=c[l];l in i&&s===i[l]||e.setAttribute(l,s)}for(var f in i)f in c||e.removeAttribute(f);break;case"style":var v=e.style;for(var d in c){var h=c[d];d in i&&h===i[d]||(v[d]=h)}for(var m in i)m in c||(v[m]="");break;case"class":e.className=c;break;case"for":e.htmlFor=c;break;case"children":break;default:var p=o[0];if("*"===p){var b=r[o],g=u[n][o];e[g.key]=g.value(b.get,e,t),i.value!==c.value&&(e.MoonReferenceEvents[g.event]=g.handler(b.set,e,t))}else"o"===p&&"n"===o[1]?e[o.toLowerCase()]=a(c):e[o]=c}}function d(e,n,t,r){switch(r){case"attributes":for(var a in t.attributes)e.removeAttribute(a);break;case"class":e.className="";break;case"for":e.htmlFor="";break;case"children":break;default:var o=r[0];if("*"===o){var i=u[n][r],c=i.key,s=i.event,f=e.MoonReferenceEvents;e[c]=l(n,c),f[s]=null,e.removeEventListener(s,f)}else"o"===o&&"n"===r[1]?e[r.toLowerCase()]=null:e[r]=l(n,r)}}function h(e,n,t,r){if(n!==t){var a=t.name;if(n.name!==a){var o=e.parentNode;o.replaceChild(o.MoonChildren[r]=s(t),e)}else{var u=n.data,i=n.children,c=t.data,l=t.children;if(u!==c){var m=t.references;for(var p in c)if(p in u){var b=u[p],g=c[p];b!==g&&v(e,a,c,m,p,b,g)}else f(e,a,c,m,p,c[p]);for(var k in u)k in c||d(e,a,u,k)}if(i!==l){var y=e.MoonChildren,w=i.length,E=l.length,R=0;if(w===E)for(;R<w;R++)h(y[R],i[R],l[R],R);else if(w<E){for(;R<w;R++)h(y[R],i[R],l[R],R);for(;R<E;R++)y.push(e.appendChild(s(l[R])))}else{for(;R<E;R++)h(y[R],i[R],l[R],R);for(;R<w;R++)e.removeChild(y.pop())}}}}}var m=new c("div",{id:"moon-root"},[],{}),p=document.getElementById("moon-root");p.MoonChildren=[];var b={get:function(){return m},set:function(e){h(p,m,e,0),m=e}},g={get:function(){return Date.now()},set:function(){}},k={get:function(){return localStorage},set:function(e){for(var n in e){var t=e[n];n in localStorage&&t===localStorage[n]||(localStorage[n]=t)}for(var r in localStorage)r in e||delete localStorage[r]}},y=/^([^:]+):\s*([^]*?)\s*$/gm,w={},E={};function R(e,n,t){var r=new XMLHttpRequest;if(r.responseType="responseType"in n?n.responseType:"text",r.onload=function(){for(var n,a={},o=r.getAllResponseHeaders();null!==(n=y.exec(o));)a[n[1]]=n[2];t({status:r.status,headers:a,body:r.response}),e in w&&w[e]()},r.onerror=function(){t({status:0,headers:null,body:null}),e in E&&E[e]()},r.open("method"in n?n.method:"GET",n.url),"headers"in n){var a=n.headers;for(var o in a)r.setRequestHeader(o,a[o])}r.send("body"in n?n.body:null)}var C={};function x(e){return function(n){e.response=n}}var M,T={get:function(){return C},set:function(e){for(var n in C=e){var t=C[n];null===t.response.status&&R(n,t.request,x(t))}}},L={route:location.pathname},N={data:r,http:T,root:{get:function(){return L},set:function(e){L=e}},storage:k,time:g,view:b};function q(){for(var t in N)e[t]=N[t].get();for(var r in n(M(e)),N)N[r].set(e[r])}var S={view:{View:c,viewNodeCreate:s,viewDataCreate:f,viewDataUpdate:v,viewDataRemove:d,viewPatch:h},http:{httpEventsLoad:w,httpEventsError:E,httpRequest:R}},A=[],D={};function F(e){return function(n){return function(t){var r;if("children"in n){var a=n.children;r=[];for(var o=0;o<a.length;o++)t=a[o](t),r.push(t.view)}else r=A;return t.view=new c(e,n,r,D),t}}}function H(e){return function(n){return function(t){return t.view=new c(e,n,A,D),t}}}function j(e){return function(n){return function(t){var r={};for(var a in n)if("*"===a[0]){var o=n[a];r[a]={value:o.value,get:o.get(t),set:o.set}}return t.view=new c(e,n,A,r),t}}}for(var B=F("div"),G=["a","abbr","acronym","address","applet","article","aside","b","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","button","canvas","caption","center","cite","code","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","html","i","iframe","image","ins","isindex","kbd","label","legend","li","listing","main","map","mark","marquee","math","menu","menuitem","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","tt","u","ul","var","xmp"],I=["area","base","br","col","embed","hr","img","keygen","link","meta","param","source","text","track","wbr"],P=["audio","input","video"],U={root:function(e){return function(n){var t=n.root.route;return t!==location.pathname&&history.pushState(null,"",t),B(e)(n)}},router:function(e){return function(n){for(var t=n.root.route,r="/",a=1;a<t.length;a++){var o=t[a];"/"===o?(e=(r in e?e[r]:e["/*"])[1],r="/"):r+=o}return(r in e?e[r]:e["/*"])[0](n)}},timer:function(e){return function(n){for(var t in e)setTimeout(a(e[t]),t);return n}},httper:function(e){return function(n){var t=n.http;for(var r in e){var o=e[r];"onLoad"in o&&(w[r]=a(o.onLoad)),"onError"in o&&(E[r]=a(o.onError)),t[r]={request:o,response:{status:null,headers:null,body:null}}}return n}}},V=0;V<G.length;V++){var X=G[V];U[X]=F(X)}for(var $=0;$<I.length;$++){var z=I[$];U[z]=H(z)}for(var J=0;J<P.length;J++){var K=P[J];U[K]=j(K)}return{main:function(e){M=e,q()},drivers:N,wrappers:S,components:U,event:a,run:q,version:"1.0.0-beta.7"}}));