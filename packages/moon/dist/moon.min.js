/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,t){"undefined"==typeof module?e.Moon=t():module.exports=t()}(this,(function(){"use strict";var e={};function t(t){e=t}var n=null,r={get:function(){return n},set:function(e){n=e}};function a(n){return function(){for(var r in q)e[r]=q[r].get();for(var a in t(T(n(e))),q)q[a].set(e[a])}}function o(){}Node.prototype.MoonChildren=null,Node.prototype.MoonReferenceEvents=null,o.prototype.handleEvent=function(e){this[e.type]()};var i={audio:{"*currentTime":{key:"currentTime",event:"timeupdate"},"*muted":{key:"muted",event:"volumechange"},"*paused":{key:"paused",event:"pause"},"*playbackRate":{key:"playbackRate",event:"ratechange"},"*volume":{key:"volume",event:"volumechange"}},input:{"*checked":{key:"checked",event:"change"},"*value":{key:"value",event:"input"}},video:{"*currentTime":{key:"currentTime",event:"timeupdate"},"*muted":{key:"muted",event:"volumechange"},"*paused":{key:"paused",event:"pause"},"*playbackRate":{key:"playbackRate",event:"ratechange"},"*volume":{key:"volume",event:"volumechange"}}},u={};function s(e,t,n,r){this.name=e,this.data=t,this.children=n,this.references=r}function l(e,t,n){return a((function(r){return e(r,t[n])}))}function c(e,t){return(e in u?u[e]:u[e]="text"===e?document.createTextNode(""):document.createElement(e))[t]}function v(e){var t,n=e.name;if("text"===n)(t=document.createTextNode(e.data.data)).MoonChildren=[];else{var r=(t=document.createElement(n)).MoonChildren=[],a=e.data,o=e.children,i=e.references;for(var u in a)f(t,n,i,u,a[u]);for(var s=0;s<o.length;s++)r.push(t.appendChild(v(o[s])))}return t}function f(e,t,n,r,u){switch(r){case"attributes":for(var s in u)e.setAttribute(s,u[s]);break;case"style":var c=e.style;for(var v in u)c[v]=u[v];break;case"class":e.className=u;break;case"for":e.htmlFor=u;break;case"children":break;default:var f=r[0];if("*"===f){var d=n[r],m=i[t][r],p=m.key,h=m.event,b=e.MoonReferenceEvents;null===b&&(b=e.MoonReferenceEvents=new o),e[p]=d.get,b[h]=l(d.set,e,p),e.addEventListener(h,b)}else"o"===f&&"n"===r[1]?e[r.toLowerCase()]=a(u):e[r]=u}}function d(e,t,n,r,o,u){switch(r){case"attributes":for(var s in u){var c=u[s];s in o&&c===o[s]||e.setAttribute(s,c)}for(var v in o)v in u||e.removeAttribute(v);break;case"style":var f=e.style;for(var d in u){var m=u[d];d in o&&m===o[d]||(f[d]=m)}for(var p in o)p in u||(f[p]="");break;case"class":e.className=u;break;case"for":e.htmlFor=u;break;case"children":break;default:var h=r[0];if("*"===h){var b=n[r],g=i[t][r],y=g.key;e[y]=b.get,o.value!==u.value&&(e.MoonReferenceEvents[g.event]=l(b.set,e,y))}else"o"===h&&"n"===r[1]?e[r.toLowerCase()]=a(u):e[r]=u}}function m(e,t,n,r){switch(r){case"attributes":for(var a in n.attributes)e.removeAttribute(a);break;case"class":e.className="";break;case"for":e.htmlFor="";break;case"children":break;default:var o=r[0];if("*"===o){var u=i[t][r],s=u.key,l=u.event,v=e.MoonReferenceEvents;e[s]=c(t,s),v[l]=null,e.removeEventListener(l,v)}else"o"===o&&"n"===r[1]?e[r.toLowerCase()]=null:e[r]=c(t,r)}}function p(e,t,n,r){if(t!==n){var a=n.name;if(t.name!==a){var o=e.parentNode;o.replaceChild(o.MoonChildren[r]=v(n),e)}else{var i=t.data,u=t.children,s=n.data,l=n.children;if(i!==s){var c=n.references;for(var h in s)if(h in i){var b=i[h],g=s[h];b!==g&&d(e,a,c,h,b,g)}else f(e,a,c,h,s[h]);for(var y in i)y in s||m(e,a,i,y)}if(u!==l){var k=e.MoonChildren,w=u.length,E=l.length,C=0;if(w===E)for(;C<w;C++)p(k[C],u[C],l[C],C);else if(w<E){for(;C<w;C++)p(k[C],u[C],l[C],C);for(;C<E;C++)k.push(e.appendChild(v(l[C])))}else{for(;C<E;C++)p(k[C],u[C],l[C],C);for(;C<w;C++)e.removeChild(k.pop())}}}}}var h=new s("div",{id:"moon-root"},[],{}),b=document.getElementById("moon-root");b.MoonChildren=[];var g={get:function(){return h},set:function(e){p(b,h,e,0),h=e}},y={get:function(){return Date.now()},set:function(){}},k={get:function(){return localStorage},set:function(e){for(var t in e){var n=e[t];t in localStorage&&n===localStorage[t]||(localStorage[t]=n)}for(var r in localStorage)r in e||delete localStorage[r]}},w=/^([^:]+):\s*([^]*?)\s*$/gm,E={},C={};function R(e,t,n){var r=new XMLHttpRequest;if(r.responseType="responseType"in t?t.responseType:"text",r.onload=function(){for(var t,a={},o=r.getAllResponseHeaders();null!==(t=w.exec(o));)a[t[1]]=t[2];n({status:r.status,headers:a,body:r.response}),e in E&&E[e]()},r.onerror=function(){n({status:0,headers:null,body:null}),e in C&&C[e]()},r.open("method"in t?t.method:"GET",t.url),"headers"in t){var a=t.headers;for(var o in a)r.setRequestHeader(o,a[o])}r.send("body"in t?t.body:null)}var x={};function M(e){return function(t){e.response=t}}var T,L={get:function(){return x},set:function(e){for(var t in x=e){var n=x[t];null===n.response.status&&R(t,n.request,M(n))}}},N={route:location.pathname},q={data:r,http:L,root:{get:function(){return N},set:function(e){N=e}},storage:k,time:y,view:g};function S(){for(var n in q)e[n]=q[n].get();for(var r in t(T(e)),q)q[r].set(e[r])}var A={view:{View:s,viewNodeCreate:v,viewDataCreate:f,viewDataUpdate:d,viewDataRemove:m,viewPatch:p},http:{httpEventsLoad:E,httpEventsError:C,httpRequest:R}},D=[],F={};function H(e){return function(t){return function(n){var r;if("children"in t){var a=t.children;r=[];for(var o=0;o<a.length;o++)n=a[o](n),r.push(n.view)}else r=D;return n.view=new s(e,t,r,F),n}}}function j(e){return function(t){return function(n){return n.view=new s(e,t,D,F),n}}}function B(e){return function(t){return function(n){var r={};for(var a in t)if("*"===a[0]){var o=t[a];r[a]={value:o.value,get:o.get(n),set:o.set}}return n.view=new s(e,t,D,r),n}}}for(var G=H("div"),I=["a","abbr","acronym","address","applet","article","aside","b","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","button","canvas","caption","center","cite","code","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","html","i","iframe","image","ins","isindex","kbd","label","legend","li","listing","main","map","mark","marquee","math","menu","menuitem","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","tt","u","ul","var","xmp"],P=["area","base","br","col","embed","hr","img","keygen","link","meta","param","source","text","track","wbr"],U=["audio","input","video"],V={root:function(e){return function(t){var n=t.root.route;return n!==location.pathname&&history.pushState(null,"",n),G(e)(t)}},router:function(e){return function(t){for(var n=t.root.route,r="/",a=1;a<n.length;a++){var o=n[a];"/"===o?(e=(r in e?e[r]:e["/*"])[1],r="/"):r+=o}return(r in e?e[r]:e["/*"])[0](t)}},timer:function(e){return function(t){for(var n in e)setTimeout(a(e[n]),n);return t}},httper:function(e){return function(t){var n=t.http;for(var r in e){var o=e[r];"onLoad"in o&&(E[r]=a(o.onLoad)),"onError"in o&&(C[r]=a(o.onError)),n[r]={request:o,response:{status:null,headers:null,body:null}}}return t}}},X=0;X<I.length;X++){var $=I[X];V[$]=H($)}for(var z=0;z<P.length;z++){var J=P[z];V[J]=j(J)}for(var K=0;K<U.length;K++){var O=U[K];V[O]=B(O)}return{main:function(e){T=e,S()},drivers:q,wrappers:A,components:V,event:a,run:S,version:"1.0.0-beta.7"}}));