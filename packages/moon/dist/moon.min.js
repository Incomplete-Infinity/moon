/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,t){"undefined"==typeof module?e.Moon=t():module.exports=t()}(this,(function(){"use strict";var e={};function t(t){e=t}var r=null,n={get:function(){return r},set:function(e){r=e}};function o(r){return function(){for(var n in N)e[n]=N[n].get();for(var o in t(x(r(e))),N)N[o].set(e[o])}}Node.prototype.MoonChildren=null,Node.prototype.MoonReferenceEvents=null;var a={};function i(e,t,r){this.name=e,this.data=t,this.children=r}function s(e){var t,r=e.name;if("text"===r)(t=document.createTextNode(e.data.data)).MoonChildren=[];else{var n=e.data,o=e.children,a=(t=document.createElement(r)).MoonChildren=[];for(var i in n)u(t,i,n[i]);for(var l=0;l<o.length;l++)a.push(t.appendChild(s(o[l])))}return t}function u(e,t,r){switch(t){case"attributes":for(var n in r)e.setAttribute(n,r[n]);break;case"style":var a=e.style;for(var i in r)a[i]=r[i];break;case"class":e.className=r;break;case"for":e.htmlFor=r;break;case"children":break;default:"o"===t[0]&&"n"===t[1]?e[t.toLowerCase()]=o(r):e[t]=r}}function l(e,t,r,n){switch(t){case"attributes":for(var a in n){var i=n[a];a in r&&i===r[a]||e.setAttribute(a,i)}for(var s in r)s in n||e.removeAttribute(s);break;case"style":var u=e.style;for(var l in n){var c=n[l];l in r&&c===r[l]||(u[l]=c)}for(var d in r)d in n||(u[d]="");break;case"class":e.className=n;break;case"for":e.htmlFor=n;break;case"children":break;default:"o"===t[0]&&"n"===t[1]?e[t.toLowerCase()]=o(n):e[t]=n}}function c(e,t,r,n){switch(n){case"attributes":for(var o in r.attributes)e.removeAttribute(o);break;case"class":e.className="";break;case"for":e.htmlFor="";break;case"children":break;default:"o"===n[0]&&"n"===n[1]?e[n.toLowerCase()]=null:e[n]=(t in a?a[t]:a[t]="text"===t?document.createTextNode(""):document.createElement(t))[n]}}function d(e,t,r,n){if(t!==r){var o=r.name;if(t.name!==o){var a=e.parentNode;a.replaceChild(a.MoonChildren[n]=s(r),e)}else{var i=t.data,f=t.children,v=r.data,h=r.children;if(i!==v){for(var p in v)if(p in i){var m=i[p],b=v[p];m!==b&&l(e,p,m,b)}else u(e,p,v[p]);for(var g in i)g in v||c(e,o,i,g)}if(f!==h){var w=e.MoonChildren,y=f.length,k=h.length,C=0;if(y===k)for(;C<y;C++)d(w[C],f[C],h[C],C);else if(y<k){for(;C<y;C++)d(w[C],f[C],h[C],C);for(;C<k;C++)w.push(e.appendChild(s(h[C])))}else{for(;C<k;C++)d(w[C],f[C],h[C],C);for(;C<y;C++)e.removeChild(w.pop())}}}}}var f=new i("div",{id:"moon-root"},[]),v=document.getElementById("moon-root");v.MoonChildren=[];var h={get:function(){return f},set:function(e){d(v,f,e,0),f=e}},p={get:function(){return Date.now()},set:function(){}},m={get:function(){return localStorage},set:function(e){for(var t in e){var r=e[t];t in localStorage&&r===localStorage[t]||(localStorage[t]=r)}for(var n in localStorage)n in e||delete localStorage[n]}},b=/^([^:]+):\s*([^]*?)\s*$/gm,g={},w={};function y(e,t,r){var n=new XMLHttpRequest;if(n.responseType="responseType"in t?t.responseType:"text",n.onload=function(){for(var t,o={},a=n.getAllResponseHeaders();null!==(t=b.exec(a));)o[t[1]]=t[2];r({status:n.status,headers:o,body:n.response}),e in g&&g[e]()},n.onerror=function(){r({status:0,headers:null,body:null}),e in w&&w[e]()},n.open("method"in t?t.method:"GET",t.url),"headers"in t){var o=t.headers;for(var a in o)n.setRequestHeader(a,o[a])}n.send("body"in t?t.body:null)}var k={};function C(e){return function(t){e.response=t}}var x,E={get:function(){return k},set:function(e){for(var t in k=e){var r=k[t];null===r.response.status&&y(t,r.request,C(r))}}},M={route:location.pathname},N={data:n,http:E,root:{get:function(){return M},set:function(e){M=e}},storage:m,time:p,view:h};function q(){for(var r in N)e[r]=N[r].get();for(var n in t(x(e)),N)N[n].set(e[n])}var L={view:{View:i,viewNodeCreate:s,viewDataCreate:u,viewDataUpdate:l,viewDataRemove:c,viewPatch:d},http:{httpEventsLoad:g,httpEventsError:w,httpRequest:y}},S=[];function T(e){return function(t){return function(r){var n;if("children"in t){var o=t.children;n=[];for(var a=0;a<o.length;a++)r=o[a](r),n.push(r.view)}else n=S;return r.view=new i(e,t,n),r}}}function R(e){return function(t){return function(r){return r.view=new i(e,t,S),r}}}for(var A=T("div"),D=["a","abbr","acronym","address","applet","article","aside","audio","b","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","button","canvas","caption","center","cite","code","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","html","i","iframe","image","ins","isindex","kbd","label","legend","li","listing","main","map","mark","marquee","math","menu","menuitem","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","tt","u","ul","var","video","xmp"],F=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","text","track","wbr"],H={root:function(e){return function(t){var r=t.root.route;return r!==location.pathname&&history.pushState(null,"",r),A(e)(t)}},router:function(e){return function(t){for(var r=t.root.route,n="/",o=1;o<r.length;o++){var a=r[o];"/"===a?(e=(n in e?e[n]:e["/*"])[1],n="/"):n+=a}return(n in e?e[n]:e["/*"])[0](t)}},timer:function(e){return function(t){for(var r in e)setTimeout(o(e[r]),r);return t}},httper:function(e){return function(t){var r=t.http;for(var n in e){var a=e[n];"onLoad"in a&&(g[n]=o(a.onLoad)),"onError"in a&&(w[n]=o(a.onError)),r[n]={request:a,response:{status:null,headers:null,body:null}}}return t}}},j=0;j<D.length;j++){var B=D[j];H[B]=T(B)}for(var G=0;G<F.length;G++){var I=F[G];H[I]=R(I)}return{main:function(e){x=e,q()},drivers:N,wrappers:L,components:H,event:o,run:q,version:"1.0.0-beta.7"}}));