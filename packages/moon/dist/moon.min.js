/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,t){"undefined"==typeof module?e.Moon=t():module.exports=t()}(this,(function(){"use strict";var e={};function t(t){e=t}var r=null,n={get:function(){return r},set:function(e){r=e}};Node.prototype.MoonName=null,Node.prototype.MoonData=null,Node.prototype.MoonReferences=null;var o=document.getElementById("moon-root");o.MoonName="div",o.MoonData={id:"moon-root"};var a={get:function(){return o},set:function(e){o=e}},i={get:function(){return Date.now()},set:function(){}},s={get:function(){return localStorage},set:function(e){for(var t in e){var r=e[t];t in localStorage&&r===localStorage[t]||(localStorage[t]=r)}for(var n in localStorage)n in e||delete localStorage[n]}},l=/^([^:]+):\s*([^]*?)\s*$/gm,u={},c={};function f(e,t,r){var n=new XMLHttpRequest;if(n.responseType="responseType"in t?t.responseType:"text",n.onload=function(){for(var t,o={},a=n.getAllResponseHeaders();null!==(t=l.exec(a));)o[t[1]]=t[2];r({status:n.status,headers:o,body:n.response}),e in u&&u[e]()},n.onerror=function(){r({status:0,headers:null,body:null}),e in c&&c[e]()},n.open("method"in t?t.method:"GET",t.url),"headers"in t){var o=t.headers;for(var a in o)n.setRequestHeader(a,o[a])}n.send("body"in t?t.body:null)}var d={};function v(e){return function(t){e.response=t}}var m,b={get:function(){return d},set:function(e){for(var t in d=e){var r=d[t];null===r.response.status&&f(t,r.request,v(r))}}},p={route:location.pathname},h={data:n,http:b,root:{get:function(){return p},set:function(e){p=e}},storage:s,time:i,view:a};function g(){for(var r in h)e[r]=h[r].get();for(var n in t(m(e)),h)h[n].set(e[n])}function k(r){return function(){for(var n in h)e[n]=h[n].get();for(var o in t(r(e)),t(m(e)),h)h[o].set(e[o])}}var w={input:{"*value":{key:"value",event:"input"}}},y=document.createTextNode("");y.MoonName="text",y.MoonData={};var x={};function C(e,t,r){return k((function(n){return e(n,t[r])}))}for(var M=function(e){return function(t){return function(r){var n=r.view,o=n.MoonName,a=n.MoonData;if(n===y||e!==o){for(var i in n="text"===e?document.createTextNode(""):document.createElement(e),t){var s=t[i],l=i[0];if("*"===l){var u=w[e][i],c=u.key,f=u.event,d=n.MoonReferences;null===d&&(d=n.MoonReferences={}),n[c]=s.get(r),n.addEventListener(f,d[f]=C(s.set,n,c))}else if("o"===l&&"n"===i[1])n[i.toLowerCase()]=k(s);else switch(i){case"attributes":for(var v in s)n.setAttribute(v,s[v]);break;case"style":var m=n.style;for(var b in s)m[b]=s[b];break;case"class":n.className=s;break;case"for":n.htmlFor=s;break;case"children":for(var p=0;p<s.length;p++)r.view=y,r=s[p](r),n.appendChild(r.view);break;default:n[i]=s}}n.MoonName=e,n.MoonData=t}else if(t===a){if("children"in t)for(var h=t.children,g=r.view=n.firstChild,M=0;M<h;M++){var N=(r=h[M](r)).view;N!==g&&n.replaceChild(N,g),g=r.view=N.nextSibling}}else{for(var S in n.MoonData=t,t){var L=t[S];if(S in a){var T=a[S];if("children"===S){var q=L.length,D=T.length,E=r.view=n.firstChild,A=0;if(q===D)for(;A<q;A++){var R=(r=L[A](r)).view;R!==E&&n.replaceChild(R,E),E=r.view=R.nextSibling}else if(q<D){for(;A<q;A++){var F=(r=L[A](r)).view;E!==F&&n.replaceChild(F,E),E=r.view=F.nextSibling}for(;A<D;A++)n.removeChild(n.lastChild)}else{for(;A<D;A++){var H=(r=L[A](r)).view;E!==H&&n.replaceChild(H,E),E=r.view=H.nextSibling}for(;A<q;A++)r.view=y,r=L[A](r),n.appendChild(r.view)}}else if(L!==T)if("o"===S[0]&&"n"===S[1])n[S.toLowerCase()]=k(L);else switch(S){case"attributes":for(var j in L){var B=L[j];j in T&&B===T[j]||n.setAttribute(j,B)}for(var G in T)G in L||n.removeAttribute(G);break;case"style":var I=n.style;for(var X in L){var $=L[X];X in T&&$===T[X]||(I[X]=$)}for(var z in T)z in L||(I[z]="");break;case"class":n.className=L;break;case"for":n.htmlFor=L;break;default:n[S]=L}}else if("o"===S[0]&&"n"===S[1])n[S.toLowerCase()]=k(L);else switch(S){case"attributes":for(var J in L)n.setAttribute(J,L[J]);break;case"style":var K=n.style;for(var O in L)K[O]=L[O];break;case"class":n.className=L;break;case"for":n.htmlFor=L;break;case"children":for(var P=0;P<L.length;P++)r.view=y,r=L[P](r),n.appendChild(r.view);break;default:n[S]=L}}for(var Q in a)if(!(Q in t))if("o"===Q[0]&&"n"===Q[1])n[Q.toLowerCase()]=null;else switch(Q){case"attributes":for(var U in a.attributes)n.removeAttribute(U);break;case"class":n.className="";break;case"for":n.htmlFor="";break;case"children":for(var V=a.children.length,W=0;W<V;W++)n.removeChild(n.lastChild);break;default:n[Q]=(o in x?x[o]:x[o]="text"===o?document.createTextNode(""):document.createElement(o))[Q]}}return r.view=n,r}}},N=M("div"),S=function(e){return function(t){var r=t.root.route;return r!==location.pathname&&history.pushState(null,"",r),N(e)(t)}},L=function(e){return function(t){for(var r=t.root.route,n="/",o=1;o<r.length;o++){var a=r[o];"/"===a?(e=(n in e?e[n]:e["/*"])[1],n="/"):n+=a}return(n in e?e[n]:e["/*"])[0](t)}},T=function(e){return function(t){for(var r in e)setTimeout(k(e[r]),r);return t}},q=function(e){return function(t){var r=t.http;for(var n in e){var o=e[n];"onLoad"in o&&(u[n]=k(o.onLoad)),"onError"in o&&(c[n]=k(o.onError)),r[n]={request:o,response:{status:null,headers:null,body:null}}}return t}},D=["root","element","router","timer","httper","a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],E={},A=0;A<D.length;A++){var R=D[A];switch(R){case"root":E.root=S;break;case"element":E.element=M;break;case"router":E.router=L;break;case"timer":E.timer=T;break;case"httper":E.httper=q;break;default:E[R]=M(R)}}return{main:function(e){m=e,g()},drivers:h,components:E,event:k,run:g,version:"1.0.0-beta.7"}}));