/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,r){"undefined"==typeof module?e.Moon=r():module.exports=r()}(this,(function(){"use strict";function e(e,r){this.name=e,this.data=r}var r=null,t=null;function a(e){r=e}function o(e){t=e}for(var n=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],i={node:function(r){return function(t){return new e(r,t)}}},s=function(r){var t=n[r];i[t]=function(r){return new e(t,r)}},l=0;l<n.length;l++)s(l);var c={components:i,mount:function(r){o(r);for(var n=t.attributes,i={},s=0;s<n.length;s++){var l=n[s];i[l.name]=l.value}a(new e(t.tagName.toLowerCase(),i))}};var u={router:function(e){for(var r=e.route,t="/",a=e.routes,o=1;o<r.length;o++){var n=r[o];"/"===n?(a=(t in a?a[t]:a["/*"])[1],t="/"):t+=n}return(t in a?a[t]:a["/*"])[0](e)}},d={};function f(e){var r=e.name;if("text"===r)return document.createTextNode(e.data.data);var t=document.createElement(r),a=e.data;for(var o in a){var n=a[o];if("o"===o[0]&&"n"===o[1])t[o.toLowerCase()]=n;else switch(o){case"attributes":for(var i in n)t.setAttribute(i,n[i]);break;case"style":var s=t.style;for(var l in n)s[l]=n[l];break;case"focus":n&&t.focus();break;case"class":t.className=n;break;case"for":t.htmlFor=n;break;case"children":for(var c=t.MoonChildren=[],u=0;u<n.length;u++){var d=f(n[u]);c.push(d),t.appendChild(d)}break;default:t[o]=n}}return t}Node.prototype.MoonChildren=null;var v={set:function(e){if(r.name===e.name)!function e(r,t,a){var o=r.data,n=a.data;for(var i in n){var s=o[i],l=n[i];if(s!==l)if("o"===i[0]&&"n"===i[1])t[i.toLowerCase()]=l;else switch(i){case"attributes":if(void 0===s)for(var c in l)t.setAttribute(c,l[c]);else{for(var u in l){var v=l[u];s[u]!==v&&t.setAttribute(u,v)}for(var m in s)m in l||t.removeAttribute(m)}break;case"style":var p=t.style;if(void 0===s)for(var b in l)p[b]=l[b];else{for(var h in l){var g=l[h];s[h]!==g&&(p[h]=g)}for(var k in s)k in l||(p[k]="")}break;case"focus":l?t.focus():t.blur();break;case"class":t.className=l;break;case"for":t.htmlFor=l;break;case"children":var y=l.length;if(void 0===s)for(var C=t.MoonChildren=[],w=0;w<y;w++){var x=f(l[w]);C.push(x),t.appendChild(x)}else{var M=s.length;if(M===y)for(var N=t.MoonChildren,L=0;L<M;L++){var T=s[L],j=l[L];if(T!==j)if(T.name===j.name)e(T,N[L],j);else{var A=f(j);t.replaceChild(A,N[L]),N[L]=A}}else if(M>y){for(var S=t.MoonChildren,q=0;q<y;q++){var E=s[q],O=l[q];if(E!==O)if(E.name===O.name)e(E,S[q],O);else{var P=f(O);t.replaceChild(P,S[q]),S[q]=P}}for(var F=y;F<M;F++)t.removeChild(S.pop())}else{for(var H=t.MoonChildren,R=0;R<M;R++){var D=s[R],G=l[R];if(D!==G)if(D.name===G.name)e(D,H[R],G);else{var X=f(G);t.replaceChild(X,H[R]),H[R]=X}}for(var $=M;$<y;$++){var z=f(l[$]);H.push(z),t.appendChild(z)}}}break;default:t[i]=l}}for(var B in o)if(!(B in n))if("o"===B[0]&&"n"===B[1])t[B.toLowerCase()]=null;else switch(B){case"attributes":var I=o.attributes;for(var J in I)t.removeAttribute(J);break;case"focus":t.blur();break;case"class":t.className="";break;case"for":t.htmlFor="";break;case"children":for(var K=o.children.length,Q=t.MoonChildren,U=0;U<K;U++)t.removeChild(Q.pop());break;default:var V=r.name;t[B]=(V in d?d[V]:d[V]="text"===V?document.createTextNode(""):document.createElement(V))[B]}}(r,t,e);else{var n=f(e);t.parentNode.replaceChild(n,t),o(n)}a(e)}},m={get:function(){return Date.now()},set:function(e){setTimeout(e[1],1e3*e[0])}},p={get:function(){return localStorage},set:function(e){for(var r in e){var t=e[r];localStorage[r]!==t&&(localStorage[r]=t)}for(var a in localStorage)a in e||delete localStorage[a]}},b=/^([^:]+):\s*([^]*?)\s*$/gm,h={set:function(e){var r=new XMLHttpRequest;if(r.responseType="responseType"in e?e.responseType:"text","onLoad"in e&&(r.onload=function(){for(var t,a={},o=r.getAllResponseHeaders();null!==(t=b.exec(o));)a[t[1]]=t[2];e.onLoad({status:r.status,headers:a,body:r.response})}),"onError"in e&&(r.onerror=e.onError),r.open("method"in e?e.method:"GET",e.url),"headers"in e){var t=e.headers;for(var a in t)r.setRequestHeader(a,t[a])}r.send("body"in e?e.body:null)}},g={get:function(){return location.pathname},set:function(e){history.pushState(null,"",e)}},k={};return Object.defineProperty(k,"view",v),Object.defineProperty(k,"time",m),Object.defineProperty(k,"storage",p),Object.defineProperty(k,"http",h),Object.defineProperty(k,"route",g),{m:k,route:u,version:"1.0.0-beta.7",view:c}}));