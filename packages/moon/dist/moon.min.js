/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,t){"undefined"==typeof module?e.Moon=t():module.exports=t()}(this,(function(){"use strict";var e={};function t(t){e=t}var r=null,n={get:function(){return r},set:function(e){r=e}};Node.prototype.MoonName=null,Node.prototype.MoonData=null,Node.prototype.MoonReferenceEvents=null;var o=document.getElementById("moon-root");o.MoonName="div",o.MoonData={id:"moon-root"};var a={get:function(){return o},set:function(e){o=e}},i={get:function(){return Date.now()},set:function(){}},s={get:function(){return localStorage},set:function(e){for(var t in e){var r=e[t];t in localStorage&&r===localStorage[t]||(localStorage[t]=r)}for(var n in localStorage)n in e||delete localStorage[n]}},l=/^([^:]+):\s*([^]*?)\s*$/gm,u={},c={};function f(e,t,r){var n=new XMLHttpRequest;if(n.responseType="responseType"in t?t.responseType:"text",n.onload=function(){for(var t,o={},a=n.getAllResponseHeaders();null!==(t=l.exec(a));)o[t[1]]=t[2];r({status:n.status,headers:o,body:n.response}),e in u&&u[e]()},n.onerror=function(){r({status:0,headers:null,body:null}),e in c&&c[e]()},n.open("method"in t?t.method:"GET",t.url),"headers"in t){var o=t.headers;for(var a in o)n.setRequestHeader(a,o[a])}n.send("body"in t?t.body:null)}var v={};function d(e){return function(t){e.response=t}}var m,p={get:function(){return v},set:function(e){for(var t in v=e){var r=v[t];null===r.response.status&&f(t,r.request,d(r))}}},b={route:location.pathname},h={data:n,http:p,root:{get:function(){return b},set:function(e){b=e}},storage:s,time:i,view:a};function g(){for(var r in h)e[r]=h[r].get();for(var n in t(m(e)),h)h[n].set(e[n])}function k(r){return function(){for(var n in h)e[n]=h[n].get();for(var o in t(r(e)),t(m(e)),h)h[o].set(e[o])}}var w={input:{"*value":{key:"value",event:"input"}}},y=document.createTextNode("");y.MoonName="",y.MoonData={};var M={};function x(e,t){return(e in M?M[e]:M[e]="text"===e?document.createTextNode(""):document.createElement(e))[t]}function C(){}function E(e,t,r){return k((function(n){return e(n,t[r])}))}C.prototype.handleEvent=function(e){this[e.type]()};for(var N=function(e){return function(t){return function(r){var n=r.view,o=n.MoonName,a=n.MoonData;if(e!==o){for(var i in n="text"===e?document.createTextNode(""):document.createElement(e),t){var s=t[i],l=i[0];if("*"===l){var u=w[e][i],c=u.key,f=u.event,v=n.MoonReferenceEvents;null===v&&(v=n.MoonReferenceEvents=new C),n[c]=s.get(r),v[f]=E(s.set,n,c),n.addEventListener(f,v)}else if("o"===l&&"n"===i[1])n[i.toLowerCase()]=k(s);else switch(i){case"attributes":for(var d in s)n.setAttribute(d,s[d]);break;case"style":var m=n.style;for(var p in s)m[p]=s[p];break;case"class":n.className=s;break;case"for":n.htmlFor=s;break;case"children":for(var b=0;b<s.length;b++)r.view=y,r=s[b](r),n.appendChild(r.view);break;default:n[i]=s}}n.MoonName=e,n.MoonData=t}else if(t===a){if("children"in t)for(var h=t.children,g=r.view=n.firstChild,M=0;M<h;M++){var N=(r=h[M](r)).view;N!==g&&n.replaceChild(N,g),g=r.view=N.nextSibling}}else{for(var S in n.MoonData=t,t){var L=t[S];if(S in a){var R=a[S];if("children"===S){var T=L.length,q=R.length,D=r.view=n.firstChild,A=0;if(T===q)for(;A<T;A++){var F=(r=L[A](r)).view;F!==D&&n.replaceChild(F,D),D=r.view=F.nextSibling}else if(T<q){for(;A<T;A++){var H=(r=L[A](r)).view;D!==H&&n.replaceChild(H,D),D=r.view=H.nextSibling}for(;A<q;A++)n.removeChild(n.lastChild)}else{for(;A<q;A++){var j=(r=L[A](r)).view;D!==j&&n.replaceChild(j,D),D=r.view=j.nextSibling}for(;A<T;A++)r.view=y,r=L[A](r),n.appendChild(r.view)}}else if(L!==R){var B=S[0];if("*"===B){var G=w[e][S],I=G.key;n[I]=L.get(r),L.value!==R.value&&(n.MoonReferenceEvents[G.event]=E(L.set,n,I))}else if("o"===B&&"n"===S[1])n[S.toLowerCase()]=k(L);else switch(S){case"attributes":for(var X in L){var $=L[X];X in R&&$===R[X]||n.setAttribute(X,$)}for(var z in R)z in L||n.removeAttribute(z);break;case"style":var J=n.style;for(var K in L){var O=L[K];K in R&&O===R[K]||(J[K]=O)}for(var P in R)P in L||(J[P]="");break;case"class":n.className=L;break;case"for":n.htmlFor=L;break;default:n[S]=L}}}else{var Q=S[0];if("*"===Q){var U=w[e][S],V=U.key,W=U.event,Y=n.MoonReferenceEvents;null===Y&&(Y=n.MoonReferenceEvents=new C),n[V]=L.get(r),Y[W]=E(L.set,n,V),n.addEventListener(W,Y)}else if("o"===Q&&"n"===S[1])n[S.toLowerCase()]=k(L);else switch(S){case"attributes":for(var Z in L)n.setAttribute(Z,L[Z]);break;case"style":var _=n.style;for(var ee in L)_[ee]=L[ee];break;case"class":n.className=L;break;case"for":n.htmlFor=L;break;case"children":for(var te=0;te<L.length;te++)r.view=y,r=L[te](r),n.appendChild(r.view);break;default:n[S]=L}}}for(var re in a)if(!(re in t)){var ne=re[0];if("*"===ne){var oe=w[e][re],ae=oe.key,ie=oe.event,se=n.MoonReferenceEvents;n[ae]=x(e,ae),se[ie]=null,n.removeEventListener(ie,se)}else if("o"===ne&&"n"===re[1])n[re.toLowerCase()]=null;else switch(re){case"attributes":for(var le in a.attributes)n.removeAttribute(le);break;case"class":n.className="";break;case"for":n.htmlFor="";break;case"children":for(var ue=a.children.length,ce=0;ce<ue;ce++)n.removeChild(n.lastChild);break;default:n[re]=x(e,re)}}}return r.view=n,r}}},S=N("div"),L=function(e){return function(t){var r=t.root.route;return r!==location.pathname&&history.pushState(null,"",r),S(e)(t)}},R=function(e){return function(t){for(var r=t.root.route,n="/",o=1;o<r.length;o++){var a=r[o];"/"===a?(e=(n in e?e[n]:e["/*"])[1],n="/"):n+=a}return(n in e?e[n]:e["/*"])[0](t)}},T=function(e){return function(t){for(var r in e)setTimeout(k(e[r]),r);return t}},q=function(e){return function(t){var r=t.http;for(var n in e){var o=e[n];"onLoad"in o&&(u[n]=k(o.onLoad)),"onError"in o&&(c[n]=k(o.onError)),r[n]={request:o,response:{status:null,headers:null,body:null}}}return t}},D=["root","element","router","timer","httper","a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],A={},F=0;F<D.length;F++){var H=D[F];switch(H){case"root":A.root=L;break;case"element":A.element=N;break;case"router":A.router=R;break;case"timer":A.timer=T;break;case"httper":A.httper=q;break;default:A[H]=N(H)}}return{main:function(e){m=e,g()},drivers:h,components:A,event:k,run:g,version:"1.0.0-beta.7"}}));