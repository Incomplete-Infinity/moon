<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="The minimal & fast library for functional user interfaces.">
		<meta name="author" content="Kabir Shah">

		<title>Moon | Data</title>

		<link rel="shortcut icon" href="/moon/img/logo.png"/>

		<link href="https://fonts.googleapis.com/css?family=Inconsolata&display=swap" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="/moon/css/lib/grain.css" />
		<link rel="stylesheet" type="text/css" href="/moon/css/styles.css" />
		<link rel="stylesheet" type="text/css" href="/moon/css/post.css" />

		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-70792533-14', 'auto');
			ga('send', 'pageview');
		</script>
	</head>

	<body>
		<div class="container">
			<div class="nav">
				<div class="nav-home">
					<h2 class="nav-home"><a href="/moon">Moon</a></h2>
				</div>

				<div class="nav-items">
					<a href="/moon/doc/guide.html">Guide</a>
					<a href="/moon/play">Playground</a>
					<a href="/moon/doc/examples.html">Examples</a>
					<a href="https://github.com/kbrsh/moon">GitHub</a>
				</div>
			</div>
			<div class="main">
				<div class="side">
					<h5>DOCUMENTATION</h5>
					<p><a href="/moon/doc/about.html">About</a></p>
					<p><a href="/moon/doc/installation.html">Installation</a></p>
					<p><a href="/moon/doc/guide.html">Guide</a></p>
					<p><a id="active" href="/moon/doc/data.html">Data</a></p>
					<p><a href="/moon/doc/views.html">Views</a></p>
					<p><a href="/moon/doc/examples.html">Examples</a></p>
				</div>
				<div class="content">
					<h1>Data</h1>
					<p>The data driver is a driver that handles persistent state. It stores data in memory and provides it as driver input. For output, it accepts new data that it stores and provides on any subsequent runs.</p>
<p>Stored data can have any type, but is usually an object with different properties for storing different parts of application state.</p>
<h2 id="configuration">Configuration</h2>
<p>The <code>Moon.data.driver</code> is a function that takes initial data and returns a driver.</p>
<pre><code lang="js"><span class="gray">// Creates a data driver with the initial data as an object.</span>
Moon.data.<span class="blue">driver</span>({
    count: <span class="orange">1</span>,
    user: <span class="orange">null</span>
});
</code></pre>
<h2 id="input">Input</h2>
<p>The data driver provides the current stored data as input.</p>
<pre><code lang="js">Moon.<span class="blue">use</span>({
    data: Moon.data.<span class="blue">driver</span>(<span class="orange">1</span>)
});

Moon.<span class="blue">run</span>(({ data }) =&gt; {
    console.<span class="blue">log</span>(data); <span class="gray">// =&gt; <span class="orange">1</span></span>
    <span class="purple">return</span> {};
});
</code></pre>
<p><a href="/moon/play#Moon.use(%7B%0A%09data%3A%20Moon.data.driver(1)%0A%7D)%3B%0A%0AMoon.run((%7B%20data%20%7D)%20%3D>%20%7B%0A%09console.log(data)%3B%20%2F%2F%20%3D>%201%0A%09return%20%7B%7D%3B%0A%7D)%3B">Try it!</a></p>
<h2 id="output">Output</h2>
<p>The data driver accepts new data as output and stores it. This is usually a completely new state to keep immutability and prevent bugs. However, the data can be mutated and returned again since the previous data is replaced with the new one.</p>
<pre><code lang="js">Moon.<span class="blue">use</span>({
    data: Moon.data.<span class="blue">driver</span>({
        count: <span class="orange">1</span>,
        user: <span class="orange">null</span>
    })
});

Moon.<span class="blue">run</span>(({ data }) =&gt; {
    <span class="purple">return</span> {
        count: data.count + <span class="orange">1</span>,
        user: <span class="green">&quot;John Doe&quot;</span>
    };
});
</code></pre>

				</div>
			</div>
		</div>
	</body>
</html>
